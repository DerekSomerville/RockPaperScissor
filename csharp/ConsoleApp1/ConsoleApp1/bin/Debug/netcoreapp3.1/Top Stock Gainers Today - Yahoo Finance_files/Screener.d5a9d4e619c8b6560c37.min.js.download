(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1150:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.meta=t.controllerViews=void 0;var i=r(a(2688)),s=r(a(2014)),l=r(a(2720));t.controllerViews={Screener:i["default"],ScreenerCriteria:s["default"],ScreenerResults:l["default"]};t.meta={langBundle:"react-finance"}},1400:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(397)),n=r(a(398)),o=r(a(213));function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var c=function(e){(0,l["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,o["default"])(t);if(d()){var r=(0,o["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,n["default"])(this,e)});function r(e){var t;return(0,i["default"])(this,r),(t=a.call(this,e)).initialize(),t}return(0,s["default"])(r,[{key:"initialize",value:function(){this.meta={},this.loading=!1,this.criteriaMeta=null,this.errorList=[],this.fields=null,this.rawCriteria=null,this.event=null}},{key:"setLoading",value:function(e){this.loading=!!e.loading,this.emitChange()}},{key:"setError",value:function(e){e.ignoreLoading||(this.loading=!1),this.errorList.push(e.error),this.event=null,this.emitChange()}},{key:"handleInstFieldsError",value:function(e){e.ignoreLoading||(this.loading=!1),this.errorList.push(e.error),this.event=null,this.emitChange()}},{key:"handleLoadScrCriteria",value:function(e){if(e){var t=!1;if(e.meta&&(this.meta="undefined"==typeof e.clear||e.clear?e.meta:Object.assign({},this.meta,e.meta),t=!0),e.criteriaMeta&&(this.criteriaMeta=e.criteriaMeta,t=!0),e.rawCriteria){var a;try{a="string"==typeof e.rawCriteria?JSON.parse(e.rawCriteria):e.rawCriteria}catch(r){}a&&(this.rawCriteria=this.rawCriteria||{},this.rawCriteria[e.meta&&e.meta.entityIdType||this.meta.entityIdType]=a,t=!0)}this.event=e.event||null,t&&(this.loading=!1,this.errorList=[],this.emitChange())}}},{key:"handleLoadInstFields",value:function(e){e.fields&&e.entityIdType&&(this.fields={entityIdType:e.entityIdType,data:e.fields,isFiltered:e.isFiltered},this.event=null,e.silent||this.emitChange())}},{key:"getMeta",value:function(){return this.meta}},{key:"getFields",value:function(){return this.fields&&this.fields.data||null}},{key:"getFieldEntityIdType",value:function(){return this.fields&&this.fields.entityIdType||null}},{key:"isFieldDataFiltered",value:function(){return this.fields&&this.fields.isFiltered||!1}},{key:"getCriteriaMeta",value:function(){return this.criteriaMeta}},{key:"getRawCriteria",value:function(e){return e||(e=this.meta.entityIdType),this.rawCriteria&&this.rawCriteria[e]}},{key:"isLoading",value:function(){return this.loading}},{key:"getEvent",value:function(){return this.event}},{key:"getError",value:function(){return this.errorList||[]}},{key:"hasError",value:function(e){return!!this.errorList.length&&(e?-1!==this.errorList.indexOf(e):!!this.errorList.length)}},{key:"dehydrate",value:function(){return{meta:this.meta,criteriaMeta:this.criteriaMeta,fields:this.fields,loading:this.loading,errorList:this.errorList,rawCriteria:this.rawCriteria,event:this.event}}},{key:"rehydrate",value:function(e){this.meta=e.meta,this.criteriaMeta=e.criteriaMeta,this.fields=e.fields,this.loading=e.loading,this.errorList=e.errorList,this.rawCriteria=e.rawCriteria,this.event=e.event}}]),r}(r(a(402))["default"]);c.storeName="ScreenerCriteriaStore",c.handlers={LOAD_INSTR_FIELDS:"handleLoadInstFields",LOAD_SCR_CRITERIA:"handleLoadScrCriteria",SET_SCR_CRI_LOADING:"setLoading",SET_SCR_CRI_ERROR:"setError",SET_INSTR_FIELDS_ERROR:"handleInstFieldsError"},t["default"]=c,e.exports=t["default"]},1488:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,a){var r=t.notification;if(!r)return void(a&&a());e.dispatch("ADD_NEW_NOTIFICATION",{content:r.content,clear:r.clear,duration:r.duration,event:r.event}),a&&a()},e.exports=t["default"]},1489:function(e,t,a){if(void 0===r)var r={};r.decline={name:"decline",height:48,width:48,path:"M27.07 23.935l6.657-6.664c.85-.852.85-2.234 0-3.087-.853-.853-2.233-.853-3.086 0l-6.65 6.658-6.696-6.72c-.853-.857-2.233-.857-3.086 0-.85.856-.85 2.244 0 3.1l6.69 6.715-6.782 6.787c-.85.855-.85 2.238 0 3.09.853.854 2.233.854 3.086 0l6.775-6.78 6.758 6.78c.85.856 2.233.856 3.084 0 .852-.86.852-2.247 0-3.102l-6.75-6.775zM24 42.818c-10.375 0-18.818-8.44-18.818-18.818C5.182 13.623 13.625 5.182 24 5.182c10.377 0 18.818 8.44 18.818 18.818 0 10.377-8.44 18.818-18.818 18.818zM24 1C11.298 1 1 11.298 1 24s10.298 23 23 23 23-10.298 23-23S36.702 1 24 1z"},e.exports&&(e.exports=r.decline)},1490:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=a(133),p=a(1286),m=r(a(1296)),h=r(a(1327)),b=r(a(409));function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var y=function(e){(0,n["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,d["default"])(t);if(v()){var r=(0,d["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o["default"])(this,e)});function r(e,t){var s;return(0,i["default"])(this,r),(s=a.call(this,e,t)).onChange=s.onChange.bind((0,l["default"])(s)),s.onClear=s.onClear.bind((0,l["default"])(s)),s.state={value:e.defaultValue},s}return(0,s["default"])(r,[{key:"componentDidUpdate",value:function(){this.props.onChange&&(0,b["default"])(this.props.onChange.bind(null,this.state.value),300,{trailing:!0})()}},{key:"onChange",value:function(e){var t=e.target.value.toString().trim();this.setState({value:t})}},{key:"onClear",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({value:""})}},{key:"render",value:function(){var e=this.state.value?"D(ib)":"D(n)";return c["default"].createElement("div",{className:this.props.className},c["default"].createElement(p.Icon,{asset:h["default"],height:16,color:"#0081f2",className:this.props.searchIconClassNames}),c["default"].createElement("input",{value:this.state.value,onChange:this.onChange,placeholder:this.context.intl.formatMessage({id:this.props.placeholder}),className:this.props.searchInputClassNames}),c["default"].createElement(f.I13nButton,{className:"Bd(0) P(0) O(n):f D(ib) Fz(s) Pos(a) Mt(4px) Mend(5px) End(0) clear-button "+e,i13nModel:{sec:this.props.rapidSec,slk:"clear-filter-txt",itc:1,elm:"icn",elmt:"clr",outcm:"clear"},onClick:this.onClear},c["default"].createElement(p.Icon,{color:"#9ea2af",height:18,asset:m["default"],className:"clear-button:h_Fill(black)! clear-button:h_Stroke(black)! W(18px) H(18px) Va(m)!"})))}}]),r}(c["default"].PureComponent);y.displayName="InputFilter",y.propTypes={placeholder:u["default"].string,defaultValue:u["default"].string,onChange:u["default"].func,rapidSec:u["default"].string,className:u["default"].string,searchIconClassNames:u["default"].string,searchInputClassNames:u["default"].string},y.defaultProps={placeholder:"FIND_FILTERS",defaultValue:"",onChange:Function.prototype,rapidSec:"input-filter",className:"D(ib) Bd Bdc($finLightGray) Pos(r)",searchIconClassNames:"Fill($c-fuji-blue-1-b)! Stroke($c-fuji-blue-1-b)! W(16px) H(16px) Cur(p) Pos(a) Mt(7px) Mstart(7px)",searchInputClassNames:"Bd(0) H(28px) W(100%) Fz(s) Pstart(28px)"},y.contextTypes={intl:u["default"].object.isRequired},t["default"]=y,e.exports=t["default"]},1514:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(397)),n=r(a(398)),o=r(a(213));function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var c=function(e){(0,l["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,o["default"])(t);if(d()){var r=(0,o["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,n["default"])(this,e)});function r(e){var t;return(0,i["default"])(this,r),(t=a.call(this,e)).initialize(),t}return(0,s["default"])(r,[{key:"initialize",value:function(){this.meta={},this.loading=!1,this.criteriaMeta=null,this.errorList=[],this.results=null,this.rawCriteria=null,this.fields=null,this.event=null,this.invalid=!1}},{key:"setLoading",value:function(e){this.loading=!!e.loading,this.emitChange()}},{key:"setError",value:function(e){e.ignoreLoading||(this.loading=!1),this.errorList.push(e.error),this.event=null,this.emitChange()}},{key:"handleLoadScrResults",value:function(e){if(e){var t=!1;if(e.meta&&(this.meta=e.meta,t=!0),e.results&&(this.results=e.results,this.invalid=!1,t=!0),e.criteriaMeta&&(this.criteriaMeta=e.criteriaMeta,t=!0),e.rawCriteria)try{this.rawCriteria="string"==typeof e.rawCriteria?JSON.parse(e.rawCriteria):e.rawCriteria,t=!0}catch(a){}this.event=e.event||null,t&&(this.loading=!1,this.errorList=[],this.emitChange())}}},{key:"handleLoadInstFields",value:function(e){e.fields&&(this.fields=e.fields,this.event=null,this.emitChange())}},{key:"invalidateScrResults",value:function(e){this.invalid="undefined"==typeof e.invalid||e.invalid,this.emitChange()}},{key:"getMeta",value:function(){return this.meta}},{key:"getFields",value:function(){return this.fields||null}},{key:"getSortableFields",value:function(){var e=this,t=[];return this.fields&&Object.keys(this.fields).forEach((function(a){e.fields[a].sortable&&t.push(a)})),t}},{key:"getCriteriaMeta",value:function(){return this.criteriaMeta}},{key:"getResults",value:function(){return this.results}},{key:"getRawCriteria",value:function(){return this.rawCriteria}},{key:"isLoading",value:function(){return this.loading}},{key:"isResultsEmpty",value:function(){return!(this.results&&this.results.rows&&this.results.rows.length>0)}},{key:"isResultsInvalid",value:function(){return this.invalid}},{key:"getEvent",value:function(){return this.event}},{key:"getError",value:function(){return this.errorList||[]}},{key:"hasError",value:function(e){return!(!this.errorList||!this.errorList.length)&&(e?-1!==this.errorList.indexOf(e):!!this.errorList.length)}},{key:"dehydrate",value:function(){return{meta:this.meta,criteriaMeta:this.criteriaMeta,results:this.results,loading:this.loading,errorList:this.errorList,rawCriteria:this.rawCriteria,event:this.event,fields:this.fields,invalid:this.invalid}}},{key:"rehydrate",value:function(e){this.meta=e.meta,this.criteriaMeta=e.criteriaMeta,this.results=e.results,this.loading=e.loading,this.errorList=e.errorList,this.rawCriteria=e.rawCriteria,this.event=e.event,this.invalid=e.invalid,this.fields=e.fields}}]),r}(r(a(402))["default"]);c.storeName="ScreenerResultsStore",c.handlers={LOAD_INSTR_FIELDS:"handleLoadInstFields",LOAD_SCR_RESULTS:"handleLoadScrResults",SET_SCR_RES_LOADING:"setLoading",SET_SCR_RES_ERROR:"setError",INVALIDATE_SCR_RESULTS:"invalidateScrResults"},t["default"]=c,e.exports=t["default"]},1517:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(1307)),s=r(a(401)),l=r(a(395)),n=r(a(396)),o=r(a(399)),d=r(a(397)),c=r(a(398)),u=r(a(213)),f=r(a(5)),p=r(a(9)),m=a(1679),h=a(212),b=a(133),v=a(1286),y=r(a(1339)),g=r(a(1402)),E=r(a(1289)),x=r(a(1384)),S=r(a(1311)),C=r(a(1296)),N=r(a(1371)),M=r(a(1489)),R=r(a(1563)),F=r(a(1488)),T=r(a(1415)),_=r(a(1491)),P=r(a(1308)),k=a(214),I=r(a(1919)),w=a(215),L=r(a(40)),B=r(a(1353)),D=r(a(134));function O(e){return function(){var t,a=(0,u["default"])(e);if(j()){var r=(0,u["default"])(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,c["default"])(this,t)}}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function A(e){var t=!0;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&e[a]){t=!1;break}return t}var $=function(e){(0,d["default"])(a,e);var t=O(a);function a(e){var r;return(0,l["default"])(this,a),(r=t.call(this,e)).onSavePortfolio=r.onSavePortfolio.bind((0,o["default"])(r)),r.onChange=r.onChange.bind((0,o["default"])(r)),r.setPfinputRef=r.setPfinputRef.bind((0,o["default"])(r)),r.pfName="",r.state={isCreateEnabled:!1,createFailed:e.createFailed,value:""},r}return(0,n["default"])(a,[{key:"componentWillReceiveProps",value:function(e){e.createFailed!==this.state.createFailed&&this.setState({createFailed:e.createFailed})}},{key:"onChange",value:function(e){var t={value:this.pfInput.value,createFailed:!1};this.pfInput.value.toString().trim()?this.state.isCreateEnabled||(t.isCreateEnabled=!0):t.isCreateEnabled=!1,this.setState(t)}},{key:"onSavePortfolio",value:function(e){e.preventDefault(),this.pfName=this.pfInput.value.toString().trim(),this.pfName&&this.props.onSavePortfolio&&this.props.onSavePortfolio({value:this.pfName},e)}},{key:"clearInput",value:function(){this.setState({value:""})}},{key:"setPfinputRef",value:function(e){this.pfInput=e}},{key:"render",value:function(){var e,t=this.props,a=this.state,r="Op(0.3)",i={},l={disabled:"disabled"};this.state.isCreateEnabled&&(r="Bgc($actionBlueHover):h",i={onSubmit:this.onSavePortfolio},l={});var n="";return a.createFailed&&(e=f["default"].createElement("div",{className:"C(red) Mt(6px)"},f["default"].createElement(h.FormattedMessage,{id:"CREATE_PF_ERROR"})),n="Bdc(red)"),f["default"].createElement("div",{className:t.className},f["default"].createElement("div",{className:"Fw(500) Fz(m) Mb(6px)"},f["default"].createElement(h.FormattedMessage,{id:"NEW_PORTFOLIO"})),f["default"].createElement("form",(0,s["default"])({},i,{className:"D(f)"}),f["default"].createElement("input",{type:"text",className:"Flxg(1) Pstart(10px) H(32px) Fz(s) Mend(10px) "+n,onChange:this.onChange,placeholder:t.placeHolder,value:a.value,ref:this.setPfinputRef}),f["default"].createElement(b.I13nButton,(0,s["default"])({type:"submit",className:"Bgc($c-fuji-blue-1-b) C(white) Fw(500) Px(20px) Py(8px) Bdrs(3px) Bd(0) Fz(s) D(ib) Miw(90px) "+r,i13nModel:{sec:t.rapidSec,slk:"create-pf",itc:1,elm:"btn",elmt:"ct",outcm:"new-pf-create"}},l),f["default"].createElement(h.FormattedMessage,{id:"CREATE"}))),e)}}]),a}(f["default"].Component);$.propTypes={rapidSec:p["default"].string.isRequired,className:p["default"].string,createFailed:p["default"].bool,onSavePortfolio:p["default"].func,placeHolder:p["default"].string},$.defaultProps={className:"Mt(10px) Mb(20px)",createFailed:!1};var V=function(e){(0,d["default"])(a,e);var t=O(a);function a(e){var r;return(0,l["default"])(this,a),(r=t.call(this,e)).rapidSec=e.id,r.showMenu=r.showMenu.bind((0,o["default"])(r)),r.closeMenu=r.closeMenu.bind((0,o["default"])(r)),r.onCheckboxSelect=r.onCheckboxSelect.bind((0,o["default"])(r)),r.onAddPortfolio=r.onAddPortfolio.bind((0,o["default"])(r)),r.onNewPortfolio=r.onNewPortfolio.bind((0,o["default"])(r)),r.onSavePortfolio=r.onSavePortfolio.bind((0,o["default"])(r)),r.setPfinputRef=r.setPfinputRef.bind((0,o["default"])(r)),r.state={showMenu:!1,showNewPf:!1,selectedPfId:Object.freeze({}),isAddEnabled:!1,createFailed:!1},r}return(0,n["default"])(a,[{key:"componentDidMount",value:function(){this.context.executeAction(T["default"],{setLoading:!0,reuseData:!0,realTime:!1,silent:!1})}},{key:"componentWillReceiveProps",value:function(e){var t;if(e.list.length!==this.props.list.length){var a=(0,I["default"])(e.list,this.props.list,(function(e,t){return e.pfId===t.pfId}));t={selectedPfId:Object.assign({},this.state.selectedPfId,(0,i["default"])({},a[0].pfId,!0)),isAddEnabled:!0},this.pfInput&&this.pfInput.clearInput()}(e.createFailed!==this.props.createFailed||e.createFailed)&&((t=t||{}).createFailed=e.createFailed),t&&this.setState(t)}},{key:"showMenu",value:function(){this.setState({showMenu:!0})}},{key:"closeMenu",value:function(){this.setState({showMenu:!1,showNewPf:!1,selectedPfId:Object.freeze({}),createFailed:!1})}},{key:"onAddPortfolio",value:function(){var e=this,t=this.state.selectedPfId,a=this.props.list,r=this.props.symbols.toArray().join(",");Object.keys(t).forEach((function(t){for(var i=null,s=0;s<a.length;s++)if(t===a[s].pfId){i=a[s];break}var l=i&&i.pfName||a[0]&&a[0].pfName;e.context.executeAction(_["default"],{pfId:t,symbols:r,callback:function(t,a){var r="add_ticker_fail";!t&&a&&("function"==typeof e.props.onSuccess&&e.props.onSuccess(),r="add_ticker_success"),e.context.executeAction(F["default"],{notification:{content:e.renderNotification({pfList:[l],count:e.props.symbols.size},"add_ticker_success"===r),clear:!1,duration:5e3,event:r}})}})})),this.closeMenu()}},{key:"onNewPortfolio",value:function(){this.setState({showNewPf:!0})}},{key:"onSavePortfolio",value:function(e,t){t.preventDefault(),this.context.executeAction(R["default"],{silent:!1,pfName:e.value})}},{key:"onCheckboxSelect",value:function(e,t){t.preventDefault(),t.stopPropagation();var a,r=e.value;(0,k.fireRapidClick)(this,{sec:this.rapidSec,slk:r,elm:"inpt",elmt:"mu",outcm:e.checked?"slctd":"unslctd"}),a=Object.assign({},this.state.selectedPfId,(0,i["default"])({},r,!!e.checked)),this.setState({selectedPfId:a,isAddEnabled:!A(a)})}},{key:"renderNotification",value:function(e,t){var a,r,i;return t?(a="Bgi($noticeGreenGradient)",r=N["default"],i="SCREENER_NOTICE_STOCK_ADD_SUCCESS"):(a="Bgi($noticeRedGradient)",r=M["default"],i="SCREENER_NOTICE_STOCK_ADD_FAIL"),f["default"].createElement("div",{className:"Pos(f) B(20px) W(100%)"},f["default"].createElement("div",{className:a+" Bxz(bb) Px(20px) Maw($newGridNotifWidth) Miw($minGridNotifWidth) Miw($minGridTabNotifWidth)!--tab768 Miw($minGridNotifWidth)!--tab1024 Mx(a) C(white) Py(10px) Bdrs(3px) Fw(500)"},f["default"].createElement(v.Icon,{className:"H(20px) W(20px) Mend(10px) Va(m)! Fill(white)! Stk(white) Cur(a)!",asset:r,height:20,color:"#fff"}),f["default"].createElement("span",{className:"Va(m)"},f["default"].createElement(h.FormattedMessage,{id:i,values:{count:e.count,list:e.pfList.join(",")}}))))}},{key:"renderNotSignedIn",value:function(){var e=f["default"].createElement(b.I13nAnchor,{href:(0,w.getSignInUrl)(this.context,this.props.currentUrl),className:"C($c-fuji-blue-1-b) Fw(500)",i13nModel:{itc:0,elm:"itm",elmt:"lgn-yh",sec:this.rapidSec}},f["default"].createElement(h.FormattedMessage,{id:"SIGN_IN"}));return f["default"].createElement("div",{className:"Pos(a) Z(7) O(n):f "+this.props.unsignedMenuClassName},f["default"].createElement(v.Icon,{className:"H(30px) W(30px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(10px)",asset:S["default"],height:30,color:"#9ea2af"}),f["default"].createElement("div",{className:"Mb(10px) C($c-fuji-grey-j) Fz(14px)"},f["default"].createElement(h.FormattedMessage,{id:"ADD_SELECTED_STOCKS_SIGNED_OUT",values:{content:e}})),f["default"].createElement(b.I13nButton,{className:B["default"].btn_secondary+B["default"].btn_secondary_large,i13nModel:{sec:this.rapidSec,slk:"close",itc:1,elm:"btn",elmt:"cl",outcm:"add-prtfl-cl"},onClick:this.closeMenu},f["default"].createElement(h.FormattedMessage,{id:"CLOSE"})))}},{key:"setPfinputRef",value:function(e){this.pfInput=e}},{key:"renderMenu",value:function(e){var t,a,r,i=this,l=this.props,n=this.state,o=n.showNewPf,d=n.selectedPfId,c=n.isAddEnabled,u={disabled:"disabled"},p="Op(0.3)",g=this.context.intl.formatMessage;if(!e)return null;if(!(0,k.isSignedIn)(this.context))return this.renderNotSignedIn();if(l.list.length>0){t=f["default"].createElement(m.CSSTransitionGroup,{transitionName:"itemList",transitionEnterTimeout:100,transitionLeaveTimeout:300},f["default"].createElement("ul",{className:"Ov(h) Mt(8px)"},l.list.map((function(e){return f["default"].createElement("li",{key:e.pfId,className:"Mb(3px) Pt(4px) Pb(3px) "+(e.isEditable?"":"Bgc($altRowColor)")},f["default"].createElement(x["default"],{className:"Ta(c) Pos(r) Va(tb)",value:e.pfId,checked:!!d[e.pfId],disabled:!e.isEditable,onChange:i.onCheckboxSelect},f["default"].createElement("span",{className:"C(black) Mstart(10px) Cur(p)"},D["default"].decode(e.pfName||""))))}))))}o?r=f["default"].createElement($,{rapidSec:this.rapidSec,placeHolder:g({id:"ENTER_PORTFOLIO_NAME"}),onSavePortfolio:this.onSavePortfolio,createFailed:this.state.createFailed,ref:this.setPfinputRef}):a=f["default"].createElement(b.I13nButton,{className:"Fz(s) Fl(end) Bd(0) P(0) M(0) D(ib) C($c-fuji-blue-1-b) C($actionBlueHover):h newPfCreate",i13nModel:{sec:this.rapidSec,slk:"new-portfolio",itc:1,elm:"btn",elmt:"ct",outcm:"creating-new-pf"},onClick:this.onNewPortfolio},f["default"].createElement(v.Icon,{className:"H(15px) W(15px) Va(m)! newPfCreate:h_Fill($actionBlueHover)! newPfCreate:h_Stk($actionBlueHover)! newPfCreate:f_Fill($actionBlueHover)! newPfCreate:f_Stk($actionBlueHover)! Mend(6px)",asset:y["default"],color:"#004cd2",height:15}),f["default"].createElement("span",{className:"Va(m) Fw(500)"},f["default"].createElement(h.FormattedMessage,{id:"NEW_PORTFOLIO"}))),c&&(u={onClick:this.onAddPortfolio},p="Bgc($actionBlueHover):h");var E,S=l.arrowStyle.top||-10,N=l.arrowStyle.left||10;return l.showArrow&&(E=[f["default"].createElement("div",{key:"top",className:"Pos(a) H(0) W(0) Bds(s) Bdtw(0px) Bdstartw(11px) Bdstartc(t) Bdendw(11px) Bdendc(t) Bdbw(11px) Bdbc($finLightGray)",style:{top:S-1+"px",left:"calc("+N+"% - 1px)"}}),f["default"].createElement("div",{key:"bottom",className:"Pos(a) H(0) W(0) Bds(s) Bdtw(0px) Bdstartw(10px) Bdstartc(t) Bdendw(10px) Bdendc(t) Bdbw(10px) Bdbc(white)",style:{top:S+"px",left:N+"%"}})]),f["default"].createElement("div",{className:"Pos(a) Z(6) O(n):f "+l.menuClassName},E,f["default"].createElement(b.I13nButton,{className:"Bd(0) P(0) O(n):f D(ib) Fz(s) Fl(end) Mt(-10px) Mend(-10px) close",i13nModel:{sec:this.rapidSec,slk:"close-icn",itc:1,elm:"icn",elmt:"cl",outcm:"close"},onClick:this.closeMenu},f["default"].createElement(v.Icon,{className:"H(22px) W(22px) Va(m)! close:h_Fill(black)! close:h_Stk(black)!",asset:C["default"],color:"#9ea2af",height:22})),f["default"].createElement("h3",{className:"Fz(m) Fw(b)"},f["default"].createElement(h.FormattedMessage,{id:"ADD_SELECTED_STOCKS"})),r,f["default"].createElement("div",{className:"Mt(15px)"},f["default"].createElement("span",{className:"Fw(500) Fz(m)"},f["default"].createElement(h.FormattedMessage,{id:"MY_PORTFOLIO_NAV_TITLE"})),a),t,f["default"].createElement("div",{className:"Mt(15px)"},f["default"].createElement(b.I13nButton,(0,s["default"])({className:"Bgc($c-fuji-blue-1-b) C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Miw(90px) "+p,i13nModel:{sec:this.rapidSec,slk:"done",itc:1,elm:"btn",elmt:"dn",outcm:"add-prtfl-done"}},u),f["default"].createElement(h.FormattedMessage,{id:"DONE"})),f["default"].createElement(b.I13nButton,{className:"C($c-fuji-blue-1-b) Bd Bdc($c-fuji-blue-1-b) Bdc($actionBlueHover):h C($c-fuji-blue-1-b) C($actionBlueHover):h Fw(500) Px(20px) Py(8px) Bdrs(3px) Fz(s) D(ib) Mstart(20px) Miw(90px)",i13nModel:{sec:this.rapidSec,slk:"cancel",itc:1,elm:"btn",elmt:"cl",outcm:"add-prtfl-cl"},onClick:this.closeMenu},f["default"].createElement(h.FormattedMessage,{id:"CANCEL"}))))}},{key:"render",value:function(){var e=this.state.showMenu,t=this.props,a="#0081f2",r="H(16px) W(23px) Va(m)! Mend(3px) addPortfolio:h_Fill($actionBlueHover)! addPortfolio:h_Stk($actionBlueHover)! Cur(a)!",i={},l="Cur(d)";return e||(i={onClick:this.showMenu},l="Cur(p)"),t.enabled||(i={disabled:"disabled"},l="Op(0.5) C($gray)!",a="#787d82",r="H(16px) W(23px) Va(m)! Mend(3px) Cur(a)!"),f["default"].createElement("div",{className:"D(ib) Pos(r) D(n)--print "+t.containerClassName},f["default"].createElement(b.I13nButton,(0,s["default"])({className:this.props.className+" addPortfolio "+l,i13nModel:{sec:this.rapidSec,slk:"add-to-watchlist",itc:1,elm:"btn",elmt:"mu",outcm:"show-portfolio-menu"}},i),f["default"].createElement(v.Icon,{className:r,asset:g["default"],color:a,height:16,width:23}),f["default"].createElement("span",{className:"Va(m) H(16px) D(ib) Lh(17px)"},f["default"].createElement(h.FormattedMessage,{id:"ADD_TO_PORTFOLIO"}))),this.renderMenu(e))}}]),a}(f["default"].Component);V.displayName="AddToPortfolio",V.propTypes={id:p["default"].string.isRequired,containerClassName:p["default"].string,className:p["default"].string,menuClassName:p["default"].string,unsignedMenuClassName:p["default"].string,symbols:p["default"].instanceOf(L["default"].List),enabled:p["default"].bool,urlType:p["default"].string,urlPrefix:p["default"].string,currentUrl:p["default"].string,list:p["default"].array,createFailed:p["default"].bool,arrowStyle:p["default"].object,showArrow:p["default"].bool,onSuccess:p["default"].func},V.defaultProps={id:"add-to-prtfl",containerClassName:"",className:"Bd(0) Fz(s) Bgc($extraLightBlue):h C($c-fuji-blue-1-b) C($actionBlueHover):h ",menuClassName:"P(25px) T(28px) End(25px) Bd Bdc($c-fuji-grey-c) Bxsh($boxShadow) Bdrs(3px) Bgc(white) W(400px)",unsignedMenuClassName:"Ta(c) P(20px) T(25px) End(20px) Bd Bdc($c-fuji-grey-c) Bxsh($boxShadow) Bdrs(3px) Bgc(white) W(320px)",symbols:L["default"].List(),enabled:!0,urlPrefix:"https://finance.yahoo.com",urlType:"portfolio",currentUrl:"/",arrowStyle:{top:-10,left:10},showArrow:!0},V.contextTypes={executeAction:p["default"].func.isRequired,intl:p["default"].object.isRequired,session:p["default"].object.isRequired};var W=(0,E["default"])(V,[P["default"]],(function(e,t){var a=e.getStore(P["default"]);if(a.hasError("PORTFOLIO_CREATE_FAIL"))return{createFailed:!0,isLoading:!1};var r=a.getLists(),i=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&!r[s].following&&i.push({pfId:s,pfName:r[s].pfName,isEditable:!r[s].linkedAccount});return{list:i,createFailed:!1,isLoading:a.isLoading()}}));t["default"]=W,e.exports=t["default"]},1561:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9));function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var p=function(e){(0,n["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,d["default"])(t);if(f()){var r=(0,d["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o["default"])(this,e)});function r(e){var t;return(0,i["default"])(this,r),(t=a.call(this,e)).onChange=t.onChange.bind((0,l["default"])(t)),t.state={value:e.value,invalid:!1},t}return(0,s["default"])(r,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({value:e.value})}},{key:"onChange",value:function(e){var t=e.target.value.toString().trim(),a={value:t},r=t;!isNaN(t)||""===t?(a.invalid=!1,this.props.onChange(r)):(r="",a.invalid=!0),this.setState(a)}},{key:"render",value:function(){var e=this.state;return c["default"].createElement("input",{type:"text",className:"Fz(s) Pstart(8px) H(28px) "+this.props.className+(e.invalid?" Bdc($c-fuji-punch-a) Bdc($c-fuji-punch-a):f C($c-fuji-red-2-b)":" Bdc($c-fuji-grey-c) Bdc($c-fuji-blue-1-b):f"),value:e.value,onChange:this.onChange})}}]),r}(c["default"].Component);p.displayName="NumberInput",p.propTypes={value:u["default"].oneOfType([u["default"].string,u["default"].number]),onChange:u["default"].func.isRequired,className:u["default"].string},p.defaultProps={value:"",onChange:Function.prototype,className:""},t["default"]=p,e.exports=t["default"]},1567:function(e,t,a){if(void 0===r)var r={};r.remove={name:"remove",height:48,width:48,path:"M40 22H8c-1.104 0-2 .896-2 2s.896 2 2 2h32c1.104 0 2-.896 2-2s-.896-2-2-2z"},e.exports&&(e.exports=r.remove)},1667:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=a(1291),s=r(a(1400)),l=r(a(400)),n="FIELDS_FAIL";function o(e,t,a){var r=t.entityIdType;if(r){var o=e.getStore(s["default"]),d=o.getFieldEntityIdType(),c=!!t.dependentValues||!!t.dependentField,u=o.isFieldDataFiltered();if(c||u||!d||r!==d){var f="tachyon.screenerFields"+r,p={};return t.category&&(p.category=t.category),t.dependentValues&&(p.dependentvalues=t.dependentValues),t.dependentField&&(p.dependentfield=t.dependentField),(0,i.fetchService)(e,{resource:f,params:p}).then((function(i){if(!i)throw l["default"].http.badGateway("Empty response from server");e.dispatch("LOAD_INSTR_FIELDS",{fields:i.fields,entityIdType:r,isFiltered:c,silent:t.silent}),a(null,i)}))["catch"]((function(t){e.dispatch("SET_SCR_CRI_ERROR",{ignoreLoading:!0,error:n}),a(t)}))}a()}else a(l["default"].http.badGateway("loadFields: params entityIdType missing"))}o.displayName="loadFields",t["default"]=o,e.exports=t["default"]},1678:function(e,t,a){if(void 0===r)var r={};r["delete"]={name:"delete",height:48,width:48,path:"M42.885 7.616h-9v-2c0-1.104-.896-2-2-2h-14c-1.104 0-2 .896-2 2v2h-9c-1.104 0-2 .896-2 2s.896 2 2 2h36c1.104 0 2-.896 2-2s-.897-2-2-2zM35.885 41.616h-22v-24h-4v26c0 1.104.896 2 2 2h26c1.104 0 2-.896 2-2v-26h-4v24z"},e.exports&&(e.exports=r["delete"])},1747:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(1307)),s=r(a(395)),l=r(a(396)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(402));function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var f=function(e){(0,n["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,d["default"])(t);if(u()){var r=(0,d["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o["default"])(this,e)});function r(e){var t;return(0,s["default"])(this,r),(t=a.call(this,e)).initialize(),t}return(0,l["default"])(r,[{key:"initialize",value:function(){this.id="fprogressbar",this.loading=(0,i["default"])({},"fprogressbar",!1)}},{key:"handleLoading",value:function(e){this.loading[(e=e||{}).id||this.id]=!!("undefined"==typeof e.loading||e.loading),this.emitChange()}},{key:"isLoading",value:function(e){return!!this.loading[e&&e.id||this.id]}},{key:"dehydrate",value:function(){return{id:this.id,loading:this.loading}}},{key:"rehydrate",value:function(e){this.id=e.id,this.loading=e.loading}}]),r}(c["default"]);f.storeName="ProgressBarStore",f.handlers={SET_PROG_BAR_LOADING:"handleLoading"},t["default"]=f,e.exports=t["default"]},1760:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.LabelPill=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=a(133),p=a(1286),m=r(a(1296)),h=r(a(1339)),b=r(a(1394)),v=a(212),y=r(a(1305)),g=r(a(2018)),E=a(408),x=r(a(409)),S=r(a(219)),C=a(215);function N(e){return function(){var t,a=(0,d["default"])(e);if(M()){var r=(0,d["default"])(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,o["default"])(this,t)}}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R=function(e){(0,n["default"])(a,e);var t=N(a);function a(e){var r;return(0,i["default"])(this,a),(r=t.call(this,e)).onClick=r.onClick.bind((0,l["default"])(r)),r}return(0,s["default"])(a,[{key:"onClick",value:function(){this.props.onClick(this.props.index)}},{key:"render",value:function(){var e=this.props,t=e.displayName,a=e.title;return c["default"].createElement(f.I13nButton,{className:"Bd(0) Pb(8px) Pt(6px) Px(10px) M(0) D(ib) C($c-fuji-grey-k) filterItem:h_C(black) Fz(s)",i13nModel:{sec:e.rapidSec,slk:"remove-label",itc:1,elm:"icn",elmt:"cl",outcm:"".concat(t,"-removed")},onClick:this.onClick,title:a},c["default"].createElement("span",{className:"Va(m)!"},t),c["default"].createElement(p.Icon,{className:"Mstart(10px) H(15px) W(15px) filterItem:h_Fill($c-fuji-grey-j)! filterItem:h_Stk($c-fuji-grey-j)!",asset:m["default"],color:"#9ea2af",height:15}))}}]),a}(c["default"].Component);R.displayName="LabelPillButton",R.propTypes={rapidSec:u["default"].string.isRequired,displayName:u["default"].string.isRequired,title:u["default"].string.isRequired,onClick:u["default"].func.isRequired,index:u["default"].number.isRequired},R.defaultProps={onClick:Function.prototype},t.LabelPill=R;var F=function(e){(0,n["default"])(a,e);var t=N(a);function a(e,r){var s;(0,i["default"])(this,a),(s=t.call(this,e,r)).onCheckboxSelect=s.onCheckboxSelect.bind((0,l["default"])(s)),s.removeFilter=s.removeFilter.bind((0,l["default"])(s)),s.onValueChange=s.onValueChange.bind((0,l["default"])(s));var n=(0,E.getCriteriaFieldData)(e.criteriaObj,e.fieldObj);return s.rapidSec=n.fieldId+"-filter",s.isSmartphone=(0,C.isSmartphone)(r),s.state={field:n,selectedLabels:n.selectedLabels||[],userModified:!1},s}return(0,s["default"])(a,[{key:"componentWillReceiveProps",value:function(e){if((this.props.isDependent||e.quoteType!==this.props.quoteType)&&(e.fieldObj!==this.props.fieldObj||e.criteriaObj!==this.props.criteriaObj)){var t=(0,E.getCriteriaFieldData)(e.criteriaObj,e.fieldObj),a={field:t};this.state.userModified&&this.props.quoteType===e.quoteType||(a.selectedLabels=t.selectedLabels||[]),this.setState(a)}}},{key:"componentDidUpdate",value:function(e,t){!(0,S["default"])(t.selectedLabels,this.state.selectedLabels)&&this.state.userModified&&this.props.onValueChange&&(0,x["default"])(this.onValueChange,800,{trailing:!0})()}},{key:"onValueChange",value:function(e){this.props.onValueChange(e,{field:this.state.field.fieldId,criteria:this.getCriteria()})}},{key:"getValue",value:function(){var e=this.state.field.labels,t=this.state.selectedLabels.map((function(t){return e[t].criteria}));return t.length>0?{operator:"or",operands:t}:null}},{key:"getStringValue",value:function(){var e=this.state.field.labels;return this.state.selectedLabels.map((function(t){return e[t].displayName}))}},{key:"getCriteria",value:function(){return Object.assign({},this.props.criteriaObj,{labelsSelected:this.state.selectedLabels})}},{key:"removeFilter",value:function(e,t){var a=this.state.selectedLabels.slice(0);a.splice(e,1),this.setState({selectedLabels:a,userModified:!0})}},{key:"onCheckboxSelect",value:function(e,t){t.preventDefault(),t.stopPropagation();var a=this.state.selectedLabels.slice(0);e.checked?a.push(e.value):a.splice(a.indexOf(e.value),1),this.setState({selectedLabels:a,userModified:!0})}},{key:"getMenuContent",value:function(){var e=this.state.field.labels,t=this.state.selectedLabels;if(!e)return null;var a=e.map((function(e,a){return{data:a,content:e.displayName,selected:-1!==t.indexOf(a)}}));return c["default"].createElement(g["default"],{itemList:a,onCheckboxSelect:this.onCheckboxSelect,className:"Py(15px)",config:{isCategorized:!1,columns:this.isSmartphone?1:2,isSearchable:!0,showButton:!1,searchField:"content",inputClassName:"D(ib) Bd Bdc($finLightGray) Pos(r) W(350px) W(250px)--tab768 W(92%)--mobp W(92%)--mobl Mt(5px)--mobp Mt(5px)--mobl"},rapidSec:this.rapidSec})}},{key:"renderSelect",value:function(e){var t=[{data:"is",content:c["default"].createElement(v.FormattedMessage,{id:"SCREENER_OP_IS"})}];return t.length>1?c["default"].createElement(b["default"],{name:e+"-select",options:t,selected:t[0].data,selectClassName:"C($c-fuji-blue-1-b) Fz(s) Fw(500)"}):c["default"].createElement("span",{className:"Fw(500) Fz(s)"},c["default"].createElement(v.FormattedMessage,{id:"SCREENER_OP_IS"}))}},{key:"renderFilterList",value:function(e){var t,a=this,r=this.state,i=r.selectedLabels,s=r.field.labels;if(this.props.isDependent&&this.props.msgComponent)return this.props.msgComponent;i.length||(t=c["default"].createElement("span",{className:"Va(m) Mstart(6px) Mend(4px)"},c["default"].createElement(v.FormattedMessage,{id:"ADD_FIELD",values:{field:c["default"].createElement(v.FormattedMessage,{id:e})}})));var l=this.context.intl.formatMessage;return c["default"].createElement("ul",{className:"M(0) P(0) D(ib)","data-test":"label-filter-list"},i.map((function(e,t){var r=s[e];if(!r)return null;var i=r.displayName;return c["default"].createElement("li",{key:i,className:"Bgc($pillBgBlue) Mend(5px) D(ib) Bdrs(3px) filterItem Mb(3px)"},c["default"].createElement(R,{rapidSec:a.rapidSec,displayName:i,index:t,onClick:a.removeFilter,title:l({id:"SCREENER_REMOVE_FIELD"},{fieldId:i})}))})),c["default"].createElement("li",{className:"D(ib) Mb(3px) filterAdd"},c["default"].createElement(y["default"],{id:this.rapidSec,content:this.getMenuContent(),className:"M(0) D(ib) Bdrs(3px) Bgc($pillBgBlue):h C($c-fuji-grey-j) Fz(s)",menuClassName:this.props.menuClassName,containerClassName:"D(ib) Pt(6px) Pb(7px) Pstart(6px) Pend(7px) C($c-fuji-grey-j) Fz(s)"},c["default"].createElement(p.Icon,{className:"H(16px) W(16px) Va(m)! filterAdd:h_Fill(black)! filterAdd:h_Stk(black)!",asset:h["default"],color:"#464e56",height:16}),t)))}},{key:"render",value:function(){var e=this.state.field.fieldId,t="SCREENER_FIELD_"+e;return c["default"].createElement("div",{className:this.props.className+" Pos(r)"},c["default"].createElement("div",{className:"D(ib) W(100%)--mobp W(100%)--mobl Mb(5px)--mobp Mb(5px)--mobl W(210px)--scrm W(190px)--scrl Pend(10px) Va(t) Pt(6px)"},c["default"].createElement("span",{className:"Mend(7px) Fw(500)"},c["default"].createElement(v.FormattedMessage,{id:t})),this.renderSelect(e)),c["default"].createElement("div",{className:"D(ib) W(100%)--mobp W(100%)--mobl W(560px)--scrm W(510px)--scrl W(428px)!--tab768"},this.renderFilterList(t)))}}]),a}(c["default"].PureComponent);F.displayName="LabelFilter",F.propTypes={className:u["default"].string,menuClassName:u["default"].string,fieldObj:u["default"].object,criteriaObj:u["default"].object,isDependent:u["default"].bool,onValueChange:u["default"].func,msgComponent:u["default"].node,quoteType:u["default"].string.isRequired},F.defaultProps={className:"D(ib) Bgc(white) Bdrs(3px) Pt(12px) Pb(9px) Pstart(18px) Pend(20px) Px(10px)--mobp Px(10px)--mobl Px(10px)--tab768 W(85%)--mobp W(92%)--mobl Mih(30px)",menuClassName:"Z(7) Mt(10px) C($c-fuji-grey-j) Bxsh($boxShadow) Bd Bdc($c-fuji-grey-c) Bdrs(2px) Start(238px)--scrm Start(218px)--scrl Start(0)--mobp Start(0)--mobl Bgc(white) W(560px) W(430px)--tab768 W(100%)--mobp W(100%)--mobl Ta(start) Cur(a) Mih(140px)",fieldObj:{},criteriaObj:{},isDependent:!1,quoteType:"EQUITY"},F.contextTypes={executeAction:u["default"].func.isRequired,intl:u["default"].object.isRequired,session:u["default"].object.isRequired},t["default"]=F},1916:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(400)),s=a(408),l=a(214),n=r(a(1)),o=a(1291);function d(e){var t=e.data||{total:0};e.context.dispatch("LOAD_SCR_CRITERIA",{clear:!1,criteriaMeta:e.criteriaMeta,rawCriteria:e.rawCriteria,meta:{start:t.start,count:t.count,total:t.total,error:t.code||""},event:"UPDATE_RESULTS_TOTAL"}),e.context.dispatch("INVALIDATE_SCR_RESULTS",{invalid:!0})}function c(e,t,a){t=t||{};var r=t.rawCriteria,c=t.criteriaMeta,u=t.onlyTotal,f=t.isEmptyCriteria,p=t.event,m=t.isHighValueUser,h=t.enablePremium;if(!r){var b=i["default"].http.badRequest("`rawCriteria` param is missing.");return e.dispatch("SET_SCR_CRI_ERROR",{error:t.onlyTotal?"SCR_TOTAL_FAIL":"SCR_FILTER_FAIL"}),e.dispatch("SET_SCR_RES_ERROR",{ignoreLoading:!1,type:"screener",error:t.onlyTotal?"SCR_TOTAL_FAIL":"SCR_FILTER_FAIL"}),a&&a(b),Promise.reject(b)}var v,y=(0,s.getCorrectedEntityIdType)(r.entityIdType,r.quoteType);if(u){if(v="tachyon.screenerTotal",f)return d({context:e,criteriaMeta:c,rawCriteria:r}),void(a&&a())}else v=m&&h&&"equity"===y?"tachyon.premiumScreenerSearch":"insider_transaction"!==y?"tachyon.screenerSearch":"tachyon.screenerInsider",e.dispatch("SET_SCR_RES_LOADING",{loading:!0}),e.dispatch("SET_PROG_BAR_LOADING",{loading:!0});var g=(0,n["default"])(e,["request","user","guid"],""),E=Object.assign({},r,{userId:g,userIdType:"guid"});return(0,o.fetchService)(e,{resource:v,params:{formatted:!0},method:"create",body:E}).then((function(t){if(!t)throw i["default"].http.badGateway("Empty response from server");if(u)d({context:e,criteriaMeta:c,rawCriteria:r,data:t});else{var l;t.criteriaMeta&&t.rawCriteria||(l=Object.assign({},t,{criteriaMeta:c,rawCriteria:r}));var n=(0,s.getScrParsedData)(l||t,y,m,h),o=(0,s.getSymbols)(n.results);if(o.length>0){var f=o.join(",");e.dispatch("STREAM_UPDATE_CATEGORY",{category:"YFINANCE:"+f})}e.dispatch("LOAD_SCR_RESULTS",n),e.dispatch("SET_PROG_BAR_LOADING",{loading:!1})}a&&a(null,t)}))["catch"]((function(r){(0,l.beacon)(e,"error","screener.UIError",{code:r.status||r.statusCode,message:r.message,params:JSON.stringify(t)}),e.dispatch("SET_SCR_CRI_ERROR",{error:u?"SCR_TOTAL_FAIL":"SCR_FILTER_FAIL"}),e.dispatch("SET_SCR_RES_ERROR",{ignoreLoading:!1,type:"screener",error:p?p+"_FAIL":"SCREENER_LOAD_FAIL"}),e.dispatch("SET_PROG_BAR_LOADING",{loading:!1}),a&&a(r)}))}c.displayName="getFilterResults",t["default"]=c,e.exports=t["default"]},1922:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenerFieldEmptyMessage=t.ScreenerCriteriaChangedMessage=t.ScreenerNoDataMessage=void 0;var i=r(a(5)),s=r(a(9)),l=a(1286),n=a(212),o=r(a(1311)),d=r(a(2026)),c=a(408),u=function(){return i["default"].createElement("div",{className:"Ta(c) Pt(20px) Pb(30px)"},i["default"].createElement(l.Icon,{className:"H(30px) W(30px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(8px)",asset:o["default"]}),i["default"].createElement("div",{className:"Fw(b) Fz(m) Mb(5px) C($c-fuji-grey-j)"},i["default"].createElement(n.FormattedMessage,{id:"MSG_NO_DATA"})),i["default"].createElement("div",null,i["default"].createElement(n.FormattedMessage,{id:"MSG_RELOAD_PAGE"})))};t.ScreenerNoDataMessage=u,u.displayName="ScreenerNoDataMessage";var f=function(e){var t=e.entityIdType,a=i["default"].createElement(n.FormattedMessage,{id:c.ENTITYID_CONFIG[t]?c.ENTITYID_CONFIG[t].title:"RESULTS"});return i["default"].createElement("div",{className:"Pos(a) Start(0) T(0) End(0) B(0) Z(4)",style:{background:"rgba(255,255,255,0.7)"},"data-test":"table-overlay"},i["default"].createElement("div",{className:"Mstart(a) Mend(a) W(560px) W(100%)--mobp W(100%)--mobl H(180px) Bgc(white) Bxsh($boxAreaShadow) Bd Bdc($finLightGray) Bdrs(3px) Mt(45px)"},i["default"].createElement("div",{className:"Mstart(a) Mend(a) Pt(40px) Ta(c)"},i["default"].createElement(l.Icon,{className:"H(30px) W(30px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(8px)",asset:o["default"],height:30,color:"#9ea2af"}),i["default"].createElement("div",{className:"Fw(b) Fz(m) Mb(10px)"},i["default"].createElement(n.FormattedMessage,{id:"SCREENER_CRITERIA_CHANGE"})),i["default"].createElement("div",null,i["default"].createElement(n.FormattedMessage,{id:"SCREENER_RESULTS_OUT_OF_SYNC",values:{type:a}})))))};t.ScreenerCriteriaChangedMessage=f,f.displayName="ScreenerCriteriaChangedMessage";var p=function(e){var t=e.entityIdType,a=i["default"].createElement(n.FormattedMessage,{id:c.ENTITYID_CONFIG[t]?c.ENTITYID_CONFIG[t].title:"RESULTS"});return i["default"].createElement("div",{className:"Mt(10px) Ta(c) Bd Bdrs(3px) W(100%) H(300px) Bdc($finLightGray)"},i["default"].createElement("div",{className:"Pb(120px) Pt(110px)"},i["default"].createElement(l.Icon,{className:"H(33px) W(33px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(10px)",asset:d["default"],height:33,color:"#9ea2af"}),i["default"].createElement("div",{className:"Fz(m) Fw(500) C($c-fuji-grey-j)"},i["default"].createElement(n.FormattedMessage,{id:"SCREENER_FILTER_EMPTY_TEXT",values:{type:a}}))))};t.ScreenerFieldEmptyMessage=p,p.displayName="ScreenerFieldEmptyMessage",p.propTypes={entityIdType:s["default"].string},f.propTypes={entityIdType:s["default"].string}},1999:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=a(406),s=r(a(40)),l=(0,i.createImmutableStore)({storeName:"ScreenerStore",handlers:{LOAD_PREDEFINED_LIST_SUCCESS:"loadPredefinedListSuccess",LOAD_PREDEFINED_LIST_FAIL:"loadPredefinedListFail",CREATE_SCREENER_SUCCESS:"createScreenerSuccess",DELETE_SCREENER_SUCCESS:"deleteScreenerSuccess",DELETE_SCREENER_FAIL:"deleteScreenerFail",LOAD_USER_LIST_SUCCESS:"loadUserListSuccess",LOAD_USER_LIST_FAIL:"loadUserListFail",SET_SCREENER_LOADING:"setLoading",SET_SCREENER_ERROR:"loadError"},initialize:function(){this._state=s["default"].fromJS({loading:!1,error:null,PredefinedList:s["default"].List(),userList:s["default"].List()})},setLoading:function(e){this.mergeState({loading:!1!==e,event:"SET_SCREENER_LOADING"})},loadError:function(e){var t=e.error,a=e.ignoreLoading,r=this._state.get("error"),i={error:r?r.push(t):s["default"].List([t]),event:"SET_SCREENER_ERROR"};a||(i.loading=!1),this.mergeState(i)},loadPredefinedListSuccess:function(e){var t=(e.results||[]).map((function(e){return e.type=e.type||"stocks",e}));this.mergeState({predefinedList:s["default"].fromJS(t),predefinedListError:"",loading:!1,error:null,event:"LOAD_PREDEFINED_LIST_SUCCESS"})},loadPredefinedListFail:function(e){this.mergeState({predefinedList:s["default"].List(),predefinedListError:e,error:s["default"].List([e]),loading:!1,event:"LOAD_PREDEFINED_LIST_FAIL"})},deleteScreenerSuccess:function(e){var t=e.results,a=this._state.get("userList",s["default"].List()),r=a.findIndex((function(e){return e.get("id")===t.id}));-1!==r&&this.mergeState({userList:a["delete"](r),deletedScreenerId:t.id,deletedScreenerVersion:t.version,deleteScreenerError:"",error:null,event:"DELETE_SCREENER_SUCCESS"})},deleteScreenerFail:function(e){this.mergeState({deletedScreenerId:"",deletedScreenerVersion:"",deleteScreenerError:e,error:s["default"].List([e]),event:"DELETE_SCREENER_FAIL"})},createScreenerSuccess:function(e){var t=this._state.get("screenerInfo",s["default"].Map());this.mergeState({screenerInfo:t.merge({scrId:e.id,versionId:e.versionId}),error:null,event:"CREATE_SCREENER_SUCCESS"})},loadUserListSuccess:function(e){var t=(e.results||[]).map((function(e){return e.type=e.type||"stocks",e}));this.mergeState({userList:s["default"].fromJS(t),userListError:"",loading:!1,error:null,event:"LOAD_USER_LIST_SUCCESS"})},loadUserListFail:function(e){this.mergeState({userList:s["default"].List(),userListError:e,loading:!1,error:s["default"].List([e]),event:"LOAD_USER_LIST_FAIL"})},getPredefinedListInfo:function(){return{predefinedList:this._state.get("predefinedList",s["default"].List()),predefinedListError:this._state.get("predefinedListError")}},getUserListInfo:function(){return{userList:this._state.get("userList",s["default"].List()),userListError:this._state.get("userListError")}},getDeletedScreenerInfo:function(){return{deletedScreenerId:this._state.get("deletedScreenerId"),deletedScreenerVersion:this._state.get("deletedScreenerVersion"),deleteScreenerError:this._state.get("deleteScreenerError")}},getError:function(){return this._state.get("error",s["default"].List())},hasError:function(e){var t=this._state.get("error");return!!t&&(e?-1!==t.indexOf(e):t.size>0)},isLoading:function(){return!!this._state.get("loading")}});t["default"]=l,e.exports=t["default"]},2014:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(401)),s=r(a(395)),l=r(a(396)),n=r(a(399)),o=r(a(397)),d=r(a(398)),c=r(a(213)),u=r(a(5)),f=r(a(9)),p=r(a(2015)),m=r(a(1488)),h=r(a(1303)),b=r(a(1354)),v=r(a(1916)),y=r(a(1400)),g=r(a(17)),E=a(212),x=a(133),S=a(1286),C=r(a(407)),N=r(a(1349)),M=r(a(1311)),R=r(a(1489)),F=r(a(1371)),T=r(a(2016)),_=r(a(2022)),P=r(a(1298)),k=r(a(2023)),I=r(a(2024)),w=r(a(2025)),L=r(a(1288)),B=r(a(134)),D=a(214),O=a(215),j=r(a(1289)),A=a(408),$=r(a(1)),V=r(a(12));function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var U={isSaveEnabled:!0,showCollapsedControls:!0,showTitle:!1},H={"new":!0,unsaved:!0},q=function(e){(0,o["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,c["default"])(t);if(W()){var r=(0,c["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,d["default"])(this,e)});function r(e,t){var i;return(0,s["default"])(this,r),(i=a.call(this,e,t)).rapidSec=(0,D.getRapidSec)("ScreenerCriteria"),i.isUserSignedIn=(0,D.isSignedIn)(t),i.onSaveFilter=i.onSaveFilter.bind((0,n["default"])(i)),i.onSaveCancel=i.onSaveCancel.bind((0,n["default"])(i)),i.onScreenerSave=i.onScreenerSave.bind((0,n["default"])(i)),i.onViewToggle=i.onViewToggle.bind((0,n["default"])(i)),i.onValueChange=i.onValueChange.bind((0,n["default"])(i)),i.onFindStocks=i.onFindStocks.bind((0,n["default"])(i)),i.config=Object.assign({},U,e.config),i.isNoFilterApplied=!!e.isEmptyCriteria,i.userModified=!1,i.__cachedMarkup=null,i.state={expanded:H[e.screenerType]||e.showSaved&&i.isUserSignedIn},i}return(0,l["default"])(r,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.screenerType,r={};"unsaved"===e.screenerType&&"new"===a||(t.entityIdType!==e.entityIdType&&(this.isNoFilterApplied=e.isEmptyCriteria),t.config!==e.config&&(this.config=Object.assign({},U,e.config)),e.screenerType!==a&&(r.expanded=H[e.screenerType]),Object.keys(r).length>0&&this.setState(r))}},{key:"componentWillMount",value:function(){var e=this.props;if(this.config.isSaveEnabled&&e.showSaved&&this.isUserSignedIn){var t=e.meta||{};this.context.executeAction(h["default"].show,{component:_["default"],componentProps:{title:t.title,desc:t.description,onSave:this.onScreenerSave,onCancel:this.onSaveCancel}})}}},{key:"componentDidMount",value:function(){this.setState({criteriaData:(0,A.getCriteriaInfo)(this.props.criteriaMeta,this.props.fields)})}},{key:"componentWillUnmount",value:function(){delete this.__cachedMarkup}},{key:"onViewToggle",value:function(){this.setState({expanded:!this.state.expanded})}},{key:"onScreenerSave",value:function(e,t){var a,r=this,i=this.props,s=i.meta||{},l={scrTitle:e.title,scrDescription:e.desc,versionId:s.versionId};"user"===i.screenerType?(a="update",l.scrId=s.id):a="create",this.context.executeAction(p["default"],{body:{meta:l,criteria:i.rawCriteria},method:a,navigate:!0,callback:function(t,a){var i="save_screener_fail";!t&&a&&(i="save_screener_success"),r.context.executeAction(m["default"],{notification:{content:r.renderSaveNotification({scrName:e.title},"save_screener_success"===i),clear:!1,duration:5e3,event:i}})}}),this.context.executeAction(h["default"].hide)}},{key:"onSaveCancel",value:function(){this.context.executeAction(h["default"].hide)}},{key:"onSaveFilter",value:function(){var e=this.props;if((0,D.isSignedIn)(this.context)){var t=e.meta||{},a=t.title,r=t.description;"predefined"===e.screenerType&&(a="",r=""),this.context.executeAction(h["default"].show,{component:_["default"],componentProps:{title:a,desc:r,onSave:this.onScreenerSave,onCancel:this.onSaveCancel}})}else this.context.executeAction(p["default"],{body:{criteria:e.rawCriteria},isPublic:!0,showSaved:!0,method:"create",navigate:!0})}},{key:"onValueChange",value:function(e,t){var a=t.field,r=t.criteria,i=t.removed,s=t.updatedCriteriaMeta,l=this.props,n=l.criteriaMeta,o=l.rawCriteria,d=l.fields,c=l.isHighValueUser,u=l.enablePremium;this.userModified=!0;var f=(0,A.getUpdatedRawCriteria)(r,{criteriaMeta:s||n,rawCriteria:o,fields:d,field:a},{removed:i});this.isNoFilterApplied=(0,A.isCriteriaEmpty)(f.criteriaMeta&&f.criteriaMeta.criteria),this.context.executeAction(v["default"],{onlyTotal:!0,isEmptyCriteria:this.isNoFilterApplied,rawCriteria:f.rawCriteria,criteriaMeta:f.criteriaMeta,isHighValueUser:c,enablePremium:u}),this.props.onValueChange&&this.props.onValueChange(e,{criteria:r,fields:d,field:a,removed:i})}},{key:"onFindStocks",value:function(e){var t=this.props,a=this.context,r=t.screenerType,i=t.rawCriteria,s=t.criteriaMeta,l=t.isHighValueUser,n=t.enablePremium;if(t.onSearch)t.onSearch(e,{rawCriteria:t.rawCriteria});else{a.executeAction(v["default"],{rawCriteria:i,criteriaMeta:s,event:"SCREENER_SEARCH",isHighValueUser:l,enablePremium:n});var o="new"===r;this.config.isSaveEnabled&&i&&(o||"unsaved"===r)&&a.executeAction(p["default"],{body:{criteria:i},isPublic:!0,isNew:o,method:"create",saveAsPublic:!0,navigate:!1})}a.executeAction(b["default"])}},{key:"renderSaveNotification",value:function(e,t){var a,r,i;return t?(a="Bgi($noticeGreenGradient)",r=F["default"],i="SCREENER_NOTICE_SCR_SAVE_SUCCESS"):(a="Bgi($noticeRedGradient)",r=R["default"],i="SCREENER_NOTICE_SCR_SAVE_FAIL"),u["default"].createElement("div",{className:"Pos(f) B(20px) W(100%)"},u["default"].createElement("div",{className:a+" Bxz(bb) Px(20px) Maw($newGridNotifWidth) Miw($minGridNotifWidth) Miw($minGridTabNotifWidth)!--tab768 Miw($minGridNotifWidth)!--tab1024 Mx(a) C(white) Py(10px) Bdrs(3px) Fw(500)"},u["default"].createElement(S.Icon,{className:"H(20px) W(20px) Mend(10px) Va(m)! Fill(white)! Stk(white) Cur(a)!",asset:r,height:20,color:"#fff"}),u["default"].createElement("span",{className:"Va(m)"},u["default"].createElement(E.FormattedMessage,{id:i,values:{name:e.scrName}}))))}},{key:"renderHeaderTitle",value:function(e){var t,a=this.props,r=a.entityIdType,i=a.screenerType;e?t="string"==typeof e?u["default"].createElement(E.FormattedMessage,{id:e}):e:A.ENTITYID_CONFIG[r]?(e="APPLIED_FILTERS","new"!==i&&"unsaved"!==i||(e="BUILD_SCREENER_MSG"),t=u["default"].createElement(E.FormattedMessage,{id:e,values:{type:u["default"].createElement(E.FormattedMessage,{id:A.ENTITYID_CONFIG[r].title})}})):t=e;return t}},{key:"renderHeader",value:function(){var e=this.props;if(!e.isEditable)return u["default"].createElement("span",{key:"msg",className:"Fw(500) Fz(m) Mstart(20px)","data-test":"crit-head-msg"},u["default"].createElement(E.FormattedMessage,{id:"SCREENER_DEFAULT_CRITERIA"}));var t,a,r,s={},l="",n=u["default"].createElement("span",{className:"C($c-fuji-grey-j) Mstart(10px) Fz(12px) Fw(n) D(b)--mobp Mstart(20px)--mobp Mstart(20px)--mobl Ta(start)--mobp Mt(5px)--mobp D(b)--mobl Ta(start)--mobl Mt(5px)--mobl",key:"notice"},u["default"].createElement(E.FormattedMessage,{id:"CURRENCY_NOTICE",values:{currency:"USD"}}));return this.state.expanded?(t={sec:this.rapidSec,slk:"toggle-criteria",itc:1,elm:"icn",elmt:"less",outcm:"collapse-criteria"},r=C["default"],a=e.expTitle):(t={sec:this.rapidSec,slk:"toggle-criteria",itc:1,elm:"icn",elmt:"more",outcm:"expand-criteria"},r=N["default"],a=e.colTitle,l+=" Mt(-3px)"),e.fields||(l+=" Cur(a)!",s={disabled:"disabled"}),u["default"].createElement(x.I13nButton,(0,i["default"])({key:"toggle-arrow",className:"Bd(0) P(0) M(0) Mstart(2px) O(n):f",i13nModel:t,onClick:this.onViewToggle,"data-test":"crit-tggl-btn"},s),u["default"].createElement(S.Icon,{className:"Va(m)! Mt(-3px) "+l,asset:r,height:18,width:20}),u["default"].createElement("span",{key:"msg",className:"Fw(600) Fz(m) C(black)"},this.renderHeaderTitle(a)),n)}},{key:"renderContent",value:function(){var e,t=this.props;if(!t.fields||!t.criteriaMeta)return null;if(this.state.expanded){var a,r,s=t.meta.entityIdType||"equity",l=A.ENTITYID_CONFIG[s],n=l&&u["default"].createElement(E.FormattedMessage,{id:l.title}),o={disabled:"disabled"},d="Op(0.3)";if(!this.isNoFilterApplied&&this.userModified&&(d="Bgc($actionBlueHover):h",o={onClick:this.onFindStocks}),this.config.isSaveEnabled){var c={disabled:"disabled"},f="Op(0.3)";this.isNoFilterApplied||!this.userModified&&"unsaved"!==t.screenerType||(f="Bdc($actionBlueHover):h C($actionBlueHover):h",c={onClick:this.onSaveFilter}),this.isUserSignedIn||(a=u["default"].createElement("span",{className:"C($c-fuji-grey-j) Mstart(15px) Fz(12px) D(b)--mobp D(b)--mobl Mstart(0px)--mobp Mstart(0px)--mobl Mt(5px)--mobp Mt(5px)--mobl"},u["default"].createElement(E.FormattedMessage,{id:"SCREENER_SIGN_IN_SAVE"})));var p="predefined"!==t.screenerType?"SAVE_FILTERS":"SAVE_AS";r=u["default"].createElement(x.I13nButton,(0,i["default"])({className:"C($c-fuji-blue-1-b) Bgc(white) Bd Bdc($c-fuji-blue-1-b) Fw(500) Px(20px) Py(8px) Bdrs(3px) Fz(s) D(ib) Mstart(20px) Whs(nw) Miw(110px) "+f,i13nModel:{sec:this.rapidSec,slk:"save-criteria",itc:1,elm:"btn",elmt:"set",rspns:"updct"},"data-test":"save-filters"},c),u["default"].createElement(E.FormattedMessage,{id:p}))}return[u["default"].createElement(T["default"],{key:"filter",hasBottomToolbar:!1,criteriaMeta:t.criteriaMeta,fields:t.fields,numFields:t.numFields,onValueChange:this.onValueChange,isHighValueUser:t.isHighValueUser,enablePremium:t.enablePremium}),u["default"].createElement(k["default"],{key:"total",total:t.meta.total,isEmpty:this.isNoFilterApplied,userModified:this.userModified,entityIdType:s,error:t.meta.error}),u["default"].createElement("div",{className:"Mt(20px) Cl(b)",key:"buttonContent","data-test":"button-content"},u["default"].createElement(x.I13nButton,(0,i["default"])({className:"Bgc($c-fuji-blue-1-b) C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px) "+d,i13nModel:{sec:this.rapidSec,slk:"find-stocks",itc:1,elm:"btn",elmt:"rslt",rspns:"updct",bpos:this.queryFields&&Object.keys(this.queryFields||[]).length},"data-test":"find-stock"},o),u["default"].createElement(E.FormattedMessage,{id:"FIND_RESULTS",values:{text:n}})),r,a,u["default"].createElement(k["default"],{total:t.meta.total,isEmpty:this.isNoFilterApplied,userModified:this.userModified,entityIdType:s,type:"mini",error:t.meta.error}))]}if(!t.fields)return u["default"].createElement("span",{className:""},u["default"].createElement(E.FormattedMessage,{id:"MSG_NO_SCREENER_FILTER"}));if(t.isEditable&&this.config.showCollapsedControls){var m;if(this.config.isSaveEnabled)m=u["default"].createElement(x.I13nButton,{className:"C($c-fuji-blue-1-b) Bgc(white) Bd Bdc($c-fuji-blue-1-b) Bdc($actionBlueHover):h C($actionBlueHover):h Fw(500) Px(20px) Py(8px) Bdrs(3px) Fz(s) D(ib) Mstart(20px) Whs(nw) Miw(110px)",i13nModel:{sec:this.rapidSec,slk:"save-filter",itc:1,elm:"btn",elmt:"set",rspns:"updct"},onClick:this.onSaveFilter},u["default"].createElement(E.FormattedMessage,{id:"predefined"!==t.screenerType?"SAVE_FILTERS":"SAVE_AS"}));e=u["default"].createElement("div",{className:"Mt(15px)",key:"buttonContent"},u["default"].createElement(x.I13nButton,{className:"Bgc($c-fuji-blue-1-b) Bgc($actionBlueHover):h C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px)",i13nModel:{sec:this.rapidSec,slk:"edit-criteria",itc:1,elm:"btn",elmt:"more",rspns:"xpnd"},onClick:this.onViewToggle},u["default"].createElement(E.FormattedMessage,{id:"EDIT"})),m)}return[u["default"].createElement(w["default"],{key:"criteriaText",fields:t.fields,criteriaMeta:t.criteriaMeta}),e]}},{key:"renderTitle",value:function(){var e,t=this.props,a=t.screenerType,r=t.meta||{},i=r.entityIdType,s=r.title;if(!this.config.showTitle)return null;"insider_transaction"!==i&&(e=u["default"].createElement(L["default"],{className:"Fw(b) Fz(17px)",href:"/screener",i13nModel:{sec:this.rapidSec,itc:0,elm:"hdln",elmt:"link",rspns:"nav"}},u["default"].createElement(E.FormattedMessage,{id:"ALL_SCREENERS"})));var l,n,o=s&&B["default"].decode(s);return"new"===a?o=u["default"].createElement(E.FormattedMessage,{id:"SCREENER_NEW_TITLE"}):"unsaved"===a?(o=u["default"].createElement(E.FormattedMessage,{id:"SCREENER_NEW_UNSAVED_TITLE"}),l=u["default"].createElement("span",{className:"Mstart(10px) Fw(600) Fz(12px) C($gray)"},u["default"].createElement(E.FormattedMessage,{id:"SCREENER_NOTICE_UNSAVED_SCR"}))):"insider_transaction"===i&&(o=u["default"].createElement(E.FormattedMessage,{id:"SCREENER_INSIDER_TITLE"})),e&&o&&(n=u["default"].createElement("span",{className:"C($c-fuji-grey-j) Fz(17px) Mx(6px) Fw(500)"},"/")),u["default"].createElement("div",{className:"Mb(10px)"},e,n,u["default"].createElement("h1",{className:"Fw(b) Fz(17px) D(ib)"},o),l)}},{key:"render",value:function(){var e,t,a=this.props,r=this.state,i="";if(a.isLoading)t=u["default"].createElement("div",{key:"overlay",className:"Pos(a) Start(0) T(0) End(0) B(0) Z(4)","data-test":"criteria-overlay"},u["default"].createElement("div",{className:"Mstart(a) Mend(a) Ta(c)"},u["default"].createElement(P["default"],{type:"fuji",spinnerClass:"Mb(0)! Mt(7px)! Bgc(t)"}))),e=this.__cachedMarkup;else if(a.hasError||(!a.criteriaMeta||r.expanded&&!a.fields))e=u["default"].createElement("div",{className:"Ta(c) Pt(40px) Pb(50px)"},u["default"].createElement(S.Icon,{className:"H(30px) W(30px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(8px)",asset:M["default"],height:30,color:"#9ea2af"}),u["default"].createElement("div",{className:"Fw(b) Fz(m) Mb(5px) C($c-fuji-grey-j)"},u["default"].createElement(E.FormattedMessage,{id:"MSG_NO_SCREENER_DETAIL"})),u["default"].createElement("div",null,u["default"].createElement(E.FormattedMessage,{id:"MSG_RELOAD_PAGE"})));else{var s=r.expanded?"Mstart(10px)--mobp Pend(10px)--mobp Mstart(10px)--mobl Pend(10px)--mobl":"";e=[u["default"].createElement("header",{key:"header"},this.renderHeader()),u["default"].createElement("div",{key:"content",className:"Mstart(22px) Pend(25px) "+s},this.renderContent()),u["default"].createElement(I["default"],{key:"progress",isEnabled:r.expanded,className:"W(100%) D(ib) Pos(a) B(0)",id:"scr-criteria"})]}return this.__cachedMarkup=e,e||(i="Mih(46px)"),u["default"].createElement("div",{id:"screener-criteria",className:a.className,"data-test":"screener-criteria","data-yaft-module":"tdv2-applet-ScreenerCriteria"},this.renderTitle(),u["default"].createElement("div",{className:"Pos(r) Pt(16px) Pb(20px) Bd Bdc($finLightGrayAlt) W(100%) Bgc($panelBackground) Bdrs(3px) "+i},t,e))}}]),r}(u["default"].PureComponent);q.displayName="ScreenerCriteria",q.propTypes={className:f["default"].string,isEditable:f["default"].bool,showSaved:f["default"].bool,entityIdType:f["default"].string,expTitle:f["default"].oneOfType([f["default"].string,f["default"].node]),colTitle:f["default"].oneOfType([f["default"].string,f["default"].node]),screenerType:f["default"].string,criteriaMeta:f["default"].object,fields:f["default"].object,numFields:f["default"].array,isLoading:f["default"].bool,hasError:f["default"].bool,onSearch:f["default"].func,onValueChange:f["default"].func,isEmptyCriteria:f["default"].bool,config:f["default"].object,expanded:f["default"].bool,meta:f["default"].object,rawCriteria:f["default"].object,enablePremium:f["default"].bool,isHighValueUser:f["default"].bool},q.defaultProps={className:"Bxz(bb) Px(20px) Mb(20px) Maw($newGridWidth) Mx(a)",expTitle:"",colTitle:"",isEditable:!0,config:{}},q.contextTypes={getStore:f["default"].func.isRequired,executeAction:f["default"].func.isRequired,session:f["default"].object.isRequired,intl:f["default"].object.isRequired};var z=(0,j["default"])(q,[y["default"]],(function(e,t){var a,r=e.getStore(y["default"]),i=r.getCriteriaMeta(),s=e.getStore(g["default"]).getCurrentRoute(),l=!0,n=e.getStore(V["default"]).getPageConfig()||{},o=n.enablePremium,d=n.isHighValueUser,c=r.isLoading();if(c)return{isLoading:c};var u=(r.getMeta()||{}).entityIdType||"equity",f=(0,A.getScreenerType)(s);return"unsaved"===f&&(a=!!(0,$["default"])(s,["query","showSaved"])),((0,O.isLightBrowser)(e)||A.ENTITYID_CONFIG[u]&&A.ENTITYID_CONFIG[u].readOnlyCriteria)&&(l=!1),{showSaved:a,isEditable:l,entityIdType:u,screenerType:f,isEmptyCriteria:(0,A.isCriteriaEmpty)(i&&i.criteria,f),fields:r.getFields(),criteriaMeta:i,rawCriteria:r.getRawCriteria(),meta:r.getMeta(),hasError:r.hasError(),isLoading:c,isHighValueUser:d,enablePremium:o}}));t["default"]=z,e.exports=t["default"]},2015:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=a(215),s=r(a(400)),l=r(a(1456)),n=a(1291);function o(e,t,a){if(!t.isPublic&&!(0,i.isSignedIn)(e)){var r=s["default"].http.unauthorized("User is not logged in");return e.dispatch("SET_SCREENER_ERROR",{error:"CREATE_SCREENER_FAIL",ignoreLoading:!0}),void a(r)}if(!t.method||"create"!==t.method&&"update"!==t.method){var o=s["default"].http.badRequest("`method` param should be one of `create` or `update`");return e.dispatch("SET_SCREENER_ERROR",{error:"CREATE_SCREENER_FAIL",ignoreLoading:!0}),void a(o)}var d=t.body||{meta:{}},c="tachyon.screenerSave";return t.isPublic?c="tachyon.screenerSavePublic":(d.meta||(d.meta={}),d.meta.userId=e.request.user.guid,d.meta.userIdType="guid"),(0,n.fetchService)(e,{resource:c,body:d,method:t.method}).then((function(r){if(!r)throw s["default"].http.badGateway("Empty response from server");if(r.error)throw s["default"].http.badGateway(r.error);e.dispatch("CREATE_SCREENER_SUCCESS",r);var n=t.isPublic?"/screener/unsaved/"+r.id:"/screener/"+r.id;if("function"==typeof t.callback&&t.callback(null,r),t.isNew||t.saveAsPublic&&t.isPublic)(0,l["default"])(e,{url:n,type:"click"},a);else if(t.navigate&&r.id){var o=n;t.isPublic&&(o+=t.showSaved?"?showSaved=1":"",(0,i.isSignedIn)(e)||(o=(0,i.getSignInUrl)(e,o))),(0,l["default"])(e,{url:o,type:"click"},a)}}))["catch"]((function(r){"function"==typeof t.callback&&t.callback(r,null),e.dispatch("SET_SCREENER_ERROR",{error:"CREATE_SCREENER_FAIL",ignoreLoading:!0}),a(r)}))}o.displayName="saveScreener",t["default"]=o,e.exports=t["default"]},2016:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.RemoveFilter=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=a(212),p=r(a(1394)),m=r(a(2017)),h=a(133),b=a(1286),v=r(a(1481)),y=r(a(1760)),g=r(a(2019)),E=r(a(2020)),x=r(a(2021)),S=a(214),C=a(408);function N(e){return function(){var t,a=(0,d["default"])(e);if(M()){var r=(0,d["default"])(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,o["default"])(this,t)}}function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var R={startdatetime:!0};function F(e){for(var t=0;t<e.length;t++)if(!R[e[t].field])return!1;return!0}var T=function(e){(0,n["default"])(a,e);var t=N(a);function a(e){var r;return(0,i["default"])(this,a),(r=t.call(this,e)).onClick=r.onClick.bind((0,l["default"])(r)),r}return(0,s["default"])(a,[{key:"onClick",value:function(e){this.props.onClick(this.props.depFieldId?[this.props.fieldId,this.props.depFieldId]:this.props.fieldId,e)}},{key:"render",value:function(){var e=this.props,t=e.title;return c["default"].createElement(h.I13nButton,{className:e.className,onClick:this.onClick,i13nModel:{sec:e.rapidSec,slk:"remove-filter",itc:1,elm:"icn",elmt:"cl",outcm:"".concat(e.fieldId,"-removed")},title:t,"data-test":"remove-filter"},c["default"].createElement(b.Icon,{className:"H(16px) W(16px) Va(m)! removeFilter:h_Fill($gray)! removeFilter:h_Stk($gray)! removeFilter:f_Fill($gray)! removeFilter:f_Stk($gray)!",asset:v["default"],color:"#9ea2af",height:16}))}}]),a}(c["default"].PureComponent);T.displayName="RemoveFilterButton",T.propTypes={className:u["default"].string.isRequired,rapidSec:u["default"].string.isRequired,title:u["default"].string.isRequired,onClick:u["default"].func.isRequired,fieldId:u["default"].string.isRequired,depFieldId:u["default"].string},T.defaultProps={onClick:Function.prototype},t.RemoveFilter=T;var _=function(e){(0,n["default"])(a,e);var t=N(a);function a(e){var r;return(0,i["default"])(this,a),(r=t.call(this,e)).onUpdateFilter=r.onUpdateFilter.bind((0,l["default"])(r)),r.onValueChange=r.onValueChange.bind((0,l["default"])(r)),r.setSortTypeRef=r.setSortTypeRef.bind((0,l["default"])(r)),r.setSortFieldRef=r.setSortFieldRef.bind((0,l["default"])(r)),r.removeFilter=r.removeFilter.bind((0,l["default"])(r)),r.rapidSec=(0,S.getRapidSec)("ScreenerFilter"),r.fields={},r.queryFields={},r.state={criteriaMeta:e.criteriaMeta,isNoFilterSelected:F(e.criteriaMeta.criteria||[])},r}return(0,s["default"])(a,[{key:"componentWillReceiveProps",value:function(e){(0,C.isCriteriaMetaEqual)(e.criteriaMeta,this.props.criteriaMeta)||this.setState({criteriaMeta:e.criteriaMeta,isNoFilterSelected:F(e.criteriaMeta.criteria||[])})}},{key:"removeFilter",value:function(e,t){var a=this,r=Array.isArray(e)?e:[e],i=this.state.criteriaMeta.criteria.slice();r.forEach((function(e){if(e){delete a.queryFields[e];var t=i.findIndex((function(t){return t.field===e}));t>-1&&i.splice(t,1)}}));var s=Object.assign({},this.state.criteriaMeta,{criteria:i}),l=F(i);this.setState({criteriaMeta:s,isNoFilterSelected:l}),l||this.props.onValueChange(t,{field:e,criteria:null,removed:!0})}},{key:"onValueChange",value:function(e,t){this.props.onValueChange&&this.props.onValueChange(e,{field:t.field,criteria:t.criteria||null,removed:!1,updatedCriteriaMeta:this.state.criteriaMeta})}},{key:"onUpdateFilter",value:function(e,t){var a=Array.isArray(e.fieldId)?e.fieldId:[e.fieldId],r=this.state.criteriaMeta.criteria.slice();a.forEach(e.selected?function(e){r.push({field:e,operators:[],values:[],labelsSelected:[]})}:function(e){var t=r.findIndex((function(t){return t.field===e}));t>-1&&r.splice(t,1)}),this.setState({criteriaMeta:Object.assign({},this.state.criteriaMeta,{criteria:r}),isNoFilterSelected:F(r)})}},{key:"renderField",value:function(e,t){var a,r=this,i=this.props,s=i.fields,l=i.enablePremium,n=i.isHighValueUser,o=this.context.intl.formatMessage,d=e.field,u=t.labels||[],f=t.dropdownSupported,p=t.isPremium,h=o({id:"SCREENER_REMOVE_FIELD"},{fieldId:o({id:"SCREENER_FIELD_"+d})}),b=c["default"].createElement(T,{key:"remove",className:"Bd(0) P(0) M(0) O(n):f Mstart(10px) D(ib) removeFilter",rapidSec:this.rapidSec,title:h,onClick:this.removeFilter,fieldId:d}),v=this.state.criteriaMeta.quoteType,g=this.state.criteriaMeta.entityIdType||v;if(u.length>0&&f){var S=t.dependFor;if(S){var C,N=S[0];return(a=this.state.criteriaMeta.criteria.find((function(e){if(e.field===N)return C=e.field,!0})))&&0!==a.length||(a={field:N,labelsSelected:[],operators:["eq"],values:[]}),[c["default"].createElement(x["default"],{key:"filter",fieldObj:t,criteriaObj:e,depCriteriaObj:a,depfieldObj:s[S[0]],onValueChange:this.onValueChange,queryFields:this.queryFields,entityIdType:g}),c["default"].createElement(T,{key:"remove",className:"Bd(0) P(0) Mb(0) Mend(0) O(n):f Mstart(10px) Mt(5%) Fl(end) removeFilter",rapidSec:this.rapidSec,title:h,onClick:this.removeFilter,fieldId:d,depFieldId:C})]}return t.dependentField?(b=undefined,null):[c["default"].createElement(y["default"],{key:"filter",fieldObj:t,criteriaObj:e,onValueChange:this.onValueChange,quoteType:v,ref:function(e){return r.queryFields[d]=e}}),b]}return u.length>0?[c["default"].createElement(m["default"],{key:"filter",fieldObj:t,criteriaObj:e,onValueChange:this.onValueChange,quoteType:v,ref:function(e){return r.queryFields[d]=e},isPremium:p,isHighValueUser:n,enablePremium:l}),b]:[c["default"].createElement(E["default"],{key:"filter",fieldObj:t,criteriaObj:e,onValueChange:this.onValueChange,quoteType:v,ref:function(e){return r.queryFields[d]=e},isPremium:p,isHighValueUser:n,enablePremium:l}),b]}},{key:"renderFields",value:function(){var e=this,t=this.props.fields;return(this.state.criteriaMeta.criteria||[]).map((function(a,r){var i=a.field;if(R[i])return null;var s=t[i];return s?c["default"].createElement("div",{className:"Mb(5px) C($c-fuji-grey-j)",key:i+r,"data-test":"field-section"},e.renderField(a,s,r)):null}))}},{key:"renderBottomToolbar",value:function(){var e=this.props,t=this.state.criteriaMeta,a=this.context.intl.formatMessage;if(!e.hasBottomToolbar)return null;var r=[];e.numFields.length&&(r=e.numFields.map((function(e){return{data:e,content:a({id:"SCREENER_FIELD_"+e})}})));var i=c["default"].createElement(p["default"],{name:"sortType-select",className:"Mend(36px) Mstart(3px)",iconClassName:"H(8px) W(8px) Va(m)! Mstart(8px)",menuClassName:"Pt(5px) Pb(5px) Pos(a) End(0px) Z(10) Bgc(#fff) Bd Bdc($c-fuji-grey-c) Bdrs(2px) Bxsh($boxShadow) W(210px)",selectClassName:"C(black) Fz(s) Fw(b)",optionClassName:"Ta(start) Px(20px) Py(10px) Cur(p) Bgc($pillBgBlue):h Fz(s)",options:r,selected:t.sortField,ref:this.setSortFieldRef}),s=c["default"].createElement(p["default"],{className:"Mstart(3px)",iconClassName:"H(8px) W(8px) Va(m)! Mstart(8px)",selectClassName:"C(black) Fz(s) Fw(b)",menuClassName:"Pt(5px) Pb(5px) Pos(a) End(0px) Z(10) Bgc(#fff) Bd Bdc($c-fuji-grey-c) Bdrs(2px) Bxsh($boxShadow) W(180px)",optionClassName:"Ta(start) Px(20px) Py(10px) Cur(p) Bgc($pillBgBlue):h Fz(s)",name:"sortType-select",options:[{data:"DESC",content:a({id:"DESC_ORDER"})},{data:"ASC",content:a({id:"ASC_ORDER"})}],selected:t.sortType||"DESC",ref:this.setSortTypeRef});return c["default"].createElement("div",{className:"Fz(s)","data-test":"scr-filter-btoolbar"},c["default"].createElement(f.FormattedMessage,{id:"SCREENER_SORT_RESULT_TEXT",values:{sortField:i,sortType:s}}))}},{key:"setSortTypeRef",value:function(e){this.fields.sortType=e}},{key:"setSortFieldRef",value:function(e){this.fields.sortField=e}},{key:"render",value:function(){var e=this.props,t=this.state.criteriaMeta.quoteType||"EQUITY";return c["default"].createElement("div",{className:this.props.className},this.renderFields(),c["default"].createElement(g["default"],{fields:e.fields,criteria:this.state.criteriaMeta.criteria,onFieldChange:this.onUpdateFilter,quoteType:t,isEmpty:this.state.isNoFilterSelected,isHighValueUser:e.isHighValueUser,enablePremium:e.enablePremium}),this.renderBottomToolbar())}}]),a}(c["default"].PureComponent);_.displayName="ScreenerFilter",_.propTypes={className:u["default"].string,criteriaMeta:u["default"].object,fields:u["default"].object,numFields:u["default"].array,onValueChange:u["default"].func,hasBottomToolbar:u["default"].bool,enablePremium:u["default"].bool,isHighValueUser:u["default"].bool},_.defaultProps={criteriaMeta:{},numFields:[],className:"D(ib) Fl(start) Mt(10px)",fields:{},hasBottomToolbar:!1},_.contextTypes={executeAction:u["default"].func.isRequired,intl:u["default"].object.isRequired,session:u["default"].object.isRequired},t["default"]=_},2017:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.Label=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=r(a(1394)),p=a(133),m=a(212),h=a(1286),b=r(a(1917)),v=r(a(1918)),y=r(a(1312)),g=a(408),E=a(215);function x(e){return function(){var t,a=(0,d["default"])(e);if(S()){var r=(0,d["default"])(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,o["default"])(this,t)}}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var C=function(e){(0,n["default"])(a,e);var t=x(a);function a(e){var r;return(0,i["default"])(this,a),(r=t.call(this,e)).onClick=r.onClick.bind((0,l["default"])(r)),r.state={isSelected:e.isSelected},r}return(0,s["default"])(a,[{key:"componentWillReceiveProps",value:function(e){e.isSelected!==this.props.isSelected&&this.setState({isSelected:e.isSelected})}},{key:"onClick",value:function(){var e=this.props.index,t=!this.state.isSelected;this.setState({isSelected:t}),this.props.onClick(e,t)}},{key:"render",value:function(){var e,t,a,r,i=this.props,s=i.rapidSec,l=i.displayName,n=i.selectedValue,o=i.className,d=this.state.isSelected;i.isMini?(t="Py(8px) Pend(15px) Pstart(0) Bgc($pillBgBlue):h Cur(p) C($c-fuji-grey-j) Fz(s) ",d?(a=b["default"],r="Stk($c-fuji-blue-1-b)! Fill($c-fuji-blue-1-b)! Mend(5px)"):(a=v["default"],r="Stk($plusGray)! Fill($plusGray)! Mend(5px)"),e=c["default"].createElement(h.Icon,{asset:a,height:16,className:r})):(t="Py(8px) Px(15px) Bdc($finLightGray) Bgc($pillBgBlue):h Cur(p) C($c-fuji-grey-j) Fz(s) ",t+=d?"Bgc($pillBgBlue) C(black) ":"C($c-fuji-grey-j) ");return c["default"].createElement(p.I13nButton,{className:t+o,onClick:this.onClick,i13nModel:{sec:s,itc:1,elm:"itm",elmt:"tab",slk:n,outcm:d?"selected":"unselected"},title:l},e,l)}}]),a}(c["default"].PureComponent);C.displayName="LabelButton",C.propTypes={className:u["default"].string.isRequired,rapidSec:u["default"].string.isRequired,displayName:u["default"].string.isRequired,onClick:u["default"].func.isRequired,index:u["default"].number.isRequired,isSelected:u["default"].bool.isRequired,selectedValue:u["default"].string,isMini:u["default"].bool},C.defaultProps={onClick:Function.prototype,isMini:!1},t.Label=C;var N=function(e){(0,n["default"])(a,e);var t=x(a);function a(e,r){var s;(0,i["default"])(this,a),s=t.call(this,e,r);var n=(0,g.getCriteriaFieldData)(e.criteriaObj,e.fieldObj);return s.onTabSelect=s.onTabSelect.bind((0,l["default"])(s)),s.userModified=!1,s.selectedLabels=n.selectedLabels||[],s.isSmartphone=(0,E.isSmartphone)(r),s.state={field:n,selectedLabels:n.selectedLabels||[],userModified:!1},s}return(0,s["default"])(a,[{key:"componentWillReceiveProps",value:function(e){if(e.fieldObj!==this.props.fieldObj||e.criteriaObj!==this.props.criteriaObj){var t=(0,g.getCriteriaFieldData)(e.criteriaObj,e.fieldObj),a={field:t};this.userModified&&this.props.quoteType===e.quoteType||(a.selectedLabels=t.selectedLabels||[]),this.setState(a)}}},{key:"getValue",value:function(){var e=this.state.field.labels,t=this.selectedLabels.map((function(t){return e[t].criteria}));return t.length>0?{operator:"or",operands:t}:null}},{key:"getCriteria",value:function(){return Object.assign({},this.props.criteriaObj,{labelsSelected:this.selectedLabels})}},{key:"onTabSelect",value:function(e,t,a){t?this.selectedLabels.push(e):this.selectedLabels.splice(this.selectedLabels.indexOf(e),1),this.userModified=!0,this.props.onValueChange&&this.props.onValueChange(a,{field:this.state.field.fieldId,criteria:this.getCriteria()})}},{key:"renderSelect",value:function(e){var t=[{data:"is",content:c["default"].createElement(m.FormattedMessage,{id:"SCREENER_OP_IS"})}];return t.length>1?c["default"].createElement(f["default"],{name:e+"-select",options:t,selected:t[0].data,selectClassName:"C($c-fuji-blue-1-b) Fz(s) Fw(500)"}):c["default"].createElement("span",{className:"Fw(500) Fz(s)"},c["default"].createElement(m.FormattedMessage,{id:"SCREENER_OP_IS"}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.field,r=t.selectedLabels,i=a.fieldId,s=a.labels,l=s.length-1,n=i+"-tab",o=this.isSmartphone?"":"Bd Bdc($finLightGray) Bdrs(3px)";return c["default"].createElement("div",{className:this.props.className},c["default"].createElement("div",{className:"D(ib) W(100%)--mobp W(100%)--mobl Mb(5px)--mobp Mb(5px)--mobl W(210px)--scrm W(190px)--scrl Pend(10px)"},c["default"].createElement("span",{className:"Mend(7px) Fw(500)"},c["default"].createElement(m.FormattedMessage,{id:"SCREENER_FIELD_"+i})),this.props.isPremium&&c["default"].createElement(y["default"],{type:"lock",imgClassName:"Va(m) Mx(5px) Mt(-2px)",pIconImgWidth:16,pIconImgHeight:16,isHighValueUser:!0}),this.renderSelect(i)),c["default"].createElement("div",{className:"D(ib) W(100%)--mobp W(100%)--mobl W(560px)--scrm W(510px)--scrl W(428px)!--tab768"},c["default"].createElement("div",{className:o+" D(ib)","data-test":"label-tab-list"},s.map((function(t,i){var s=t.displayName,o=r.indexOf(i);return c["default"].createElement(C,{key:s,rapidSec:n,className:i!==l?" BdEnd":" Bd(0)",displayName:s,onClick:e.onTabSelect,index:i,selectedLabels:r,isSelected:-1!==o,selectedValue:a.labels&&a.labels[o]&&a.labels[o].displayName,selLabelIndex:o,isMini:e.isSmartphone})})))))}}]),a}(c["default"].PureComponent);N.displayName="LabelTab",N.propTypes={className:u["default"].string,fieldObj:u["default"].object,criteriaObj:u["default"].object,onValueChange:u["default"].func,quoteType:u["default"].string.isRequired,isPremium:u["default"].bool},N.defaultProps={className:"D(ib) Bgc(white) Bdrs(3px) Py(12px) Pstart(18px) Pend(20px) Px(10px)--mobp Px(10px)--mobl W(85%)--mobp W(92%)--mobl Px(10px)--tab768",fieldObj:{},criteriaObj:{},quoteType:"EQUITY"},N.propTypes={className:u["default"].string,fieldObj:u["default"].object,criteriaObj:u["default"].object,onValueChange:u["default"].func,quoteType:u["default"].string.isRequired},N.contextTypes={session:u["default"].object.isRequired},t["default"]=N},2018:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=a(133),p=r(a(1490)),m=a(212),h=r(a(1384)),b=r(a(1)),v=a(214),y=r(a(1353));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){(0,n["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,d["default"])(t);if(g()){var r=(0,d["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o["default"])(this,e)});function r(e,t){var s;return(0,i["default"])(this,r),(s=a.call(this,e,t)).onTextFilter=s.onTextFilter.bind((0,l["default"])(s)),s.onCheckboxSelect=s.onCheckboxSelect.bind((0,l["default"])(s)),s.state={filteredItemList:null},s}return(0,s["default"])(r,[{key:"onTextFilter",value:function(e){var t=e.trim().toLowerCase(),a=[],r=(0,b["default"])(this.props.config,["searchField"],"data");a=t?this.props.itemList.filter((function(e){return-1!==e[r].toLowerCase().indexOf(t)})):null,this.setState({filteredItemList:a})}},{key:"onCheckboxSelect",value:function(e,t){t.preventDefault(),t.stopPropagation(),(0,v.fireRapidClick)(this,{sec:this.props.rapidSec,slk:e.value,elm:"inpt",elmt:"mu",outcm:e.checked?"slctd":"unslctd"}),this.props.onCheckboxSelect&&this.props.onCheckboxSelect(e,t)}},{key:"renderMenuItems",value:function(e){var t=this,a=(100/e).toFixed(2)+"%";return(this.state.filteredItemList||this.props.itemList).map((function(e){var r=e.data,i=e.content;if(r!==undefined&&i)return c["default"].createElement("li",{key:r,className:"Fl(start) D(b) Mb(10px)",style:{width:a}},c["default"].createElement(h["default"],{className:"Ta(c) Pos(r) Va(tb) Pend(10px)",value:r,onChange:t.onCheckboxSelect,checked:e.selected||!1},c["default"].createElement("span",{className:"C($c-fuji-grey-j) Mstart(12px) Cur(p) Va(m)"},i)))}))}},{key:"render",value:function(){var e,t,a=this.props,r=a.rapidSec,i=Object.assign({},{showButton:!0,columns:3,isSearchable:!0,closeButtonTitle:"CLOSE"},a.config);return i.showButton&&(e=c["default"].createElement("div",{className:"Mt(10px) Mstart(20px) BdT Bdc($finLightGray)"},c["default"].createElement(f.I13nButton,{className:y["default"].btn_primary+y["default"].btn_primary_large,i13nModel:{sec:r,itc:1,elm:"btn",elmt:"cl",outcm:"close"},onClick:a.onClick},c["default"].createElement(m.FormattedMessage,{id:i.closeButtonTitle})))),a.itemList.length/i.columns>4&&i.isSearchable&&(t=c["default"].createElement("div",{className:"Mb(16px) Mstart(16px)"},c["default"].createElement(p["default"],{onChange:this.onTextFilter,rapidSec:r,className:i.inputClassName}))),c["default"].createElement("div",{className:a.className,"data-test":"itm-menu-cntr"},t,c["default"].createElement("div",{className:"Pstart(16px) Pend(20px) Mah(230px) Ovy(a)"},c["default"].createElement("ul",{className:"M(0) P(0)"},this.renderMenuItems(i.columns))),e)}}]),r}(c["default"].PureComponent);E.displayName="ItemMenuContainer",E.propTypes={rapidSec:u["default"].string,onClose:u["default"].func,config:u["default"].object,itemList:u["default"].array.isRequired,onCheckboxSelect:u["default"].func,onClick:u["default"].func,className:u["default"].string},E.defaultProps={rapidSec:"itm-menu-cntr",config:{isCategorized:!1,columns:2,isSearchable:!0,showButton:!0,closeButtonTitle:"CLOSE",searchField:"data",inputClassName:"D(ib) Bd Bdc($finLightGray) Pos(r)"},itemList:[],onClick:Function.prototype,className:"Pos(a) Z(7) Py(15px) T(25px) Bd Bdc($c-fuji-grey-c) Bxsh($boxShadow) Bdrs(3px) Bgc(white) W(910px) W(690px)--tab768 O(n):f"},E.contextTypes={intl:u["default"].object.isRequired},t["default"]=E,e.exports=t["default"]},2019:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(401)),s=r(a(395)),l=r(a(396)),n=r(a(399)),o=r(a(397)),d=r(a(398)),c=r(a(213)),u=r(a(5)),f=r(a(9)),p=r(a(1354)),m=a(212),h=a(133),b=a(1286),v=r(a(1296)),y=r(a(1339)),g=r(a(1384)),E=r(a(1490)),x=r(a(1312)),S=r(a(1340)),C=r(a(1487)),N=a(214),M=a(408),R=r(a(1353)),F=a(215),T=a(1318);function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var P=function(e){(0,o["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,c["default"])(t);if(_()){var r=(0,c["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,d["default"])(this,e)});function r(e,t){var i;return(0,s["default"])(this,r),(i=a.call(this,e,t)).rapidSec=(0,N.getRapidSec)("ScreenerNewFilter"),i.showMenu=i.showMenu.bind((0,n["default"])(i)),i.closeMenu=i.closeMenu.bind((0,n["default"])(i)),i.onCheckboxSelect=i.onCheckboxSelect.bind((0,n["default"])(i)),i.onTextFilter=i.onTextFilter.bind((0,n["default"])(i)),i.isSmartphone=(0,F.isSmartphone)(t),i.state={showMenu:!1,filteredFields:null},i}return(0,l["default"])(r,[{key:"componentDidMount",value:function(){this.setState(this.getNewState(this.props))}},{key:"componentWillReceiveProps",value:function(e){e.criteria===this.props.criteria&&e.fields===this.props.fields||this.setState(this.getNewState(e))}},{key:"getNewState",value:function(e){var t=e.fields;return{selFields:e.criteria.map((function(e){return e.field})),catFields:(0,M.getCategorizedFields)(t)}}},{key:"showMenu",value:function(){this.context.executeAction(p["default"],{disableAds:!0}),this.setState({showMenu:!0})}},{key:"closeMenu",value:function(){this.context.executeAction(p["default"]),this.setState({showMenu:!1,filteredFields:null})}},{key:"onCheckboxSelect",value:function(e,t){t.preventDefault(),t.stopPropagation();var a,r=e.value,i=this.props.fields[r];i.dependFor&&(a=i.dependFor&&i.dependFor[0]),(0,N.fireRapidClick)(this,{sec:this.rapidSec,slk:r,elm:"inpt",elmt:"mu",outcm:e.checked?"slctd":"unslctd"});var s=this.state.selFields.slice(0);e.checked?s.push(r):s.splice(s.indexOf(r),1),this.setState({selFields:s}),this.props.onFieldChange({fieldId:a?[r,a]:r,selected:e.checked},t)}},{key:"onTextFilter",value:function(e){var t=this.state.catFields,a=e.trim().toLowerCase();if(a){for(var r=Object.keys(t),i={},s=0;s<r.length;s++){for(var l=[],n=0,o=t[r[s]].fields,d=0;d<o.length;d++)-1!==o[d].fieldId.indexOf(a)&&(l[n++]=o[d]);n>0&&(i[r[s]]=Object.assign({},t[r[s]],{fields:l}))}this.setState({filteredFields:i})}else this.state.filteredFields&&this.setState({filteredFields:null})}},{key:"renderCategorySection",value:function(e,t,a){var r=this,i=this.state.selFields,s=(100/a).toFixed(2)+"%",l=t.isPremium,n=t.fields.map((function(e){var t,a=e.fieldId;if(e.dependFor)t=[u["default"].createElement(m.FormattedMessage,{key:"dependee",id:"SCREENER_FIELD_"+a})," & ",u["default"].createElement(m.FormattedMessage,{key:"dependent",id:"SCREENER_FIELD_"+e.dependFor[0]})];else{if(e.dependentField)return;t=u["default"].createElement(m.FormattedMessage,{id:"SCREENER_FIELD_"+a})}var n,o=-1!==i.indexOf(a),d=u["default"].createElement(g["default"],{className:"Ta(c) Pos(r) Va(tb) Pend(10px)",value:a,onChange:r.onCheckboxSelect,checked:o,disabled:!r.props.isHighValueUser&&r.props.enablePremium&&l},u["default"].createElement("span",{className:"C($tertiaryColor) Mstart(12px) Cur(p) Va(m)"},t));l&&r.props.enablePremium&&!r.props.isHighValueUser?n=u["default"].createElement(S["default"],{content:u["default"].createElement(C["default"],{ncid:T.NCIDS.RESEARCH_INSIGHTS_TRADE_IDEAS.parent,className:"W(280px) H(155px) Fz(s) C($primaryColor) Cur(d) Ta(c)",messageClassName:"Fw(500) Mt(15px) Mb(25px) Ta(c)"}),className:"Pt(8px)",overlayClassName:"Bdrs(4px) Start(-5px) T(30px) Z(6)",arrowDirection:"top",arrowClassName:"End(100%) Bds(s) Bdendw(10px) Bdstartw(10px) Bdtw(10px) Bdbw(10px) Bdstartc(t) Bdendc(t) Bdtc(t)",arrowStyle:{left:50,top:-22}}," ",d):n=d;return u["default"].createElement("li",{key:a,className:"Fl(start) D(b) Mb(12px) Pos(r)",style:{width:s}}," ",n)})),o=l&&this.props.enablePremium?u["default"].createElement(x["default"],{lockIconClassName:"Mstart(5px) Va(m) Mb(4px)",imgClassName:"Mb(2px) Mx(5px) Va(bl)",isHighValueUser:this.props.isHighValueUser,type:"lock"}):null;return u["default"].createElement("div",{key:e,className:"Mb(10px)","data-test":"filter-cat"},u["default"].createElement("span",{className:"Fw(b) C(black)"},t.displayName),o,u["default"].createElement("div",{className:"Mt(8px)"},u["default"].createElement("ul",{className:"M(0) P(0)"},n,u["default"].createElement("li",{className:"Cl(b)"}))))}},{key:"renderFilterMenu",value:function(){var e=this,t=this.state.filteredFields||this.state.catFields,a=u["default"].createElement(m.FormattedMessage,{id:(0,M.getQuoteTypeConfig)(this.props.quoteType).title}),r=this.isSmartphone?1:3,i=[];return Object.keys(t).forEach((function(a){var s=e.renderCategorySection(a,t[a],r);t[a].isPremium?i.unshift(s):i.push(s)})),u["default"].createElement("div",{className:"Pos(f) W(100%) H(100%) Start(0) T(0) Z(6)",style:{background:"rgba(255,255,255,0.8)"}},u["default"].createElement("div",{className:"Pos(r) Z(7) Py(15px) T(25%) Mstart(a) Mend(a) Bd Bdc($c-fuji-grey-c) Bxsh($boxShadow) Bdrs(3px) Bgc(white) Maw(1090px) W(86%) O(n):f Ta(start)","data-test":"filter-menu"},u["default"].createElement(h.I13nButton,{className:"Bd(0) P(0) O(n):f D(ib) Fz(s) Fl(end) close Mend(16px)",i13nModel:{sec:this.rapidSec,slk:"close-icn",itc:1,elm:"icn",elmt:"cl",outcm:"close"},onClick:this.closeMenu},u["default"].createElement(b.Icon,{className:"H(22px) W(22px) Va(m)! close:h_Fill(black)! close:h_Stk(black)!",asset:v["default"],color:"#9ea2af",height:22})),u["default"].createElement("div",{className:"Mb(16px) Pstart(25px)"},u["default"].createElement("div",{className:"D(ib) Fw(500) Fz(m) Mend(15px) Miw(30.8%)"},u["default"].createElement(m.FormattedMessage,{id:"CHOOSE_FILTERS",values:{quoteType:a}})),u["default"].createElement(E["default"],{onChange:this.onTextFilter,className:"D(ib) Bd Bdc($finLightGray) Pos(r) W(450px) W(350px)--tab768 W(90%)--mobp W(90%)--mobl",rapidSec:this.rapidSec})),u["default"].createElement("div",{className:"Pstart(25px) Pend(20px) Mah(400px) Mah(550px)--tab768 Mah(315px)--mobp Mah(315px)--mobl Ovy(a)"},i),u["default"].createElement("div",{className:"Pt(10px) Pstart(25px) Bxsh($OpGrayBoxShadow)",key:"buttonContent"},u["default"].createElement(h.I13nButton,{className:R["default"].btn_primary+R["default"].btn_primary_large,i13nModel:{sec:this.rapidSec,slk:"close",itc:1,elm:"btn",elmt:"cl",outcm:"close"},onClick:this.closeMenu},u["default"].createElement(m.FormattedMessage,{id:"CLOSE"})))))}},{key:"render",value:function(){var e=this.state.showMenu,t=this.props.isEmpty,a={},r=" Cur(d)";e||(a={onClick:this.showMenu},r=" Cur(p)");var s,l=t?"Bgc(white) P(20px)":this.props.className,n="Fz(s) Fw(500) Bd(0) Bdrs(3px) P(0) M(0) O(n):f D(ib) C($c-fuji-blue-1-b) C($actionBlueHover):h C($actionBlueHover):f addFilter",o="Va(m)",d=u["default"].createElement(b.Icon,{className:"H(18px) W(18px) Mstart(-3px) Va(m)! addFilter:h_Fill($actionBlueHover)! addFilter:h_Stk($actionBlueHover)! addFilter:f_Fill($actionBlueHover)! addFilter:f_Stk($actionBlueHover)! Mend(6px)",asset:y["default"],color:"#0081f2",height:18});return t&&(l="Bgc(white) P(30px) Mend(25px) Mb(10px) W(770px)--scrm W(700px)--scrl Ta(c)",n="Bgc($c-fuji-blue-1-b) Bgc($actionBlueHover):h Bgc($actionBlueHover):f C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px) addFilter",o="",d=u["default"].createElement("span",null),s=u["default"].createElement("div",{className:"C($c-fuji-grey-j) Mb(10px)"},u["default"].createElement(m.FormattedMessage,{id:"MSG_NO_SCREENER_CRITERIA"}))),u["default"].createElement("div",{className:"Pos(r) "+l},s,u["default"].createElement(h.I13nButton,(0,i["default"])({className:n+r,i13nModel:{sec:this.rapidSec,slk:"add-filter",itc:1,elm:"btn",elmt:"mu",outcm:"show-filters"}},a),d,u["default"].createElement("span",{className:o},u["default"].createElement(m.FormattedMessage,{id:"ADD_FILTER"}))),e?this.renderFilterMenu():"")}}]),r}(u["default"].PureComponent);P.displayName="NewFilter",P.propTypes={className:f["default"].string,fields:f["default"].object,criteria:f["default"].array,onFieldChange:f["default"].func.isRequired,quoteType:f["default"].string.isRequired,isEmpty:f["default"].bool,enablePremium:f["default"].bool,isHighValueUser:f["default"].bool},P.defaultProps={fields:{},className:"Mt(8px) Mb(15px)",criteria:[],onFieldChange:Function.prototype,quoteType:"EQUITY",isEmpty:!1},P.contextTypes={executeAction:f["default"].func.isRequired,session:f["default"].object.isRequired,getStore:f["default"].func.isRequired},t["default"]=P,e.exports=t["default"]},2020:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=a(212),p=r(a(1394)),m=r(a(1561)),h=r(a(1312)),b=a(408),v=r(a(409)),y=r(a(219)),g=r(a(1));function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x={gt:"input",lt:"input",eq:"input",btwn:"range"},S=function(e){(0,n["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,d["default"])(t);if(E()){var r=(0,d["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o["default"])(this,e)});function r(e){var t;(0,i["default"])(this,r),(t=a.call(this,e)).field=null,t.onSelect=t.onSelect.bind((0,l["default"])(t)),t.onValueChange=t.onValueChange.bind((0,l["default"])(t)),t.onFirstOnChange=t.onFirstOnChange.bind((0,l["default"])(t)),t.onSecondOnChange=t.onSecondOnChange.bind((0,l["default"])(t)),t.setFieldRef=t.setFieldRef.bind((0,l["default"])(t));var s=(0,b.getCriteriaFieldData)(e.criteriaObj,e.fieldObj),n=(0,g["default"])(s,["operators",0],"gt").toLowerCase();return t.state={field:s,type:x[n],selOp:n,values:s.values,userModified:!1},t}return(0,s["default"])(r,[{key:"componentWillReceiveProps",value:function(e){if(e.fieldObj!==this.props.fieldObj||e.criteriaObj!==this.props.criteriaObj){var t=(0,b.getCriteriaFieldData)(e.criteriaObj,e.fieldObj),a={field:t};if(!this.state.userModified||this.props.quoteType!==e.quoteType){var r=(0,g["default"])(t,["operators",0],"gt").toLowerCase();a.type=x[r],a.selOp=r,a.values=t.values}this.setState(a)}}},{key:"componentDidUpdate",value:function(e,t){(!(0,y["default"])(t.values,this.state.values)||t.selOp!==this.state.selOp&&this.state.userModified)&&this.props.onValueChange&&(0,v["default"])(this.onValueChange,800,{trailing:!0})()}},{key:"onValueChange",value:function(e){this.props.onValueChange(e,{field:this.state.field.fieldId,criteria:this.getCriteria()})}},{key:"getValue",value:function(){var e=this.state.field.fieldId,t=!1,a=this.state.values.map((function(e){return""!==e&&e!==undefined?parseFloat(e):(t=!0,null)}));return!t&&a.length>0?(a.unshift(e),{operator:this.state.selOp,operands:a}):null}},{key:"getCriteria",value:function(){var e=!1,t=this.state.values.map((function(t){return t!==undefined?""!==t?parseFloat(t):null:(e=!0,t)}));return"range"!==this.state.type||e?"input"!==this.state.type||e?null:Object.assign({},this.props.criteriaObj,{values:t[0]?t:[],operators:t[0]?[this.state.selOp]:[]}):Object.assign({},this.props.criteriaObj,{values:t[0]&&t[1]?t:[],operators:t[0]&&t[1]?[this.state.selOp]:[]})}},{key:"onSelect",value:function(e,t){var a=x[e],r=this.state.values.slice(0);"range"===a&&"input"===this.state.type?r[1]="":"input"===a&&"range"===this.state.type&&r.splice(1,1);var i={type:x[e],selOp:e,userModified:!0};r&&(i.values=r),this.setState(i)}},{key:"onChange",value:function(e,t){var a=this.state.values.slice(0);a[e]=t,this.setState({values:a,userModified:!0})}},{key:"onFirstOnChange",value:function(e){this.onChange(0,e)}},{key:"onSecondOnChange",value:function(e){this.onChange(1,e)}},{key:"setFieldRef",value:function(e){this.field=e}},{key:"renderInputComponent",value:function(){var e=this.state.values;return"input"===this.state.type?c["default"].createElement(m["default"],{className:"W(110px)",value:e[0]||"",onChange:this.onFirstOnChange,ref:this.setFieldRef}):c["default"].createElement("div",{className:""},c["default"].createElement(m["default"],{className:"Mend(8px) W(80px)",value:e[0]||"",onChange:this.onFirstOnChange,ref:this.setFieldRef}),"-",c["default"].createElement(m["default"],{className:"Mstart(10px) W(80px)",value:e[1]||"",onChange:this.onSecondOnChange,ref:this.setFieldRef}))}},{key:"render",value:function(){var e=this.state.field.fieldId,t="SCREENER_FIELD_"+e,a=this.state.selOp,r=Object.keys(x).map((function(e){return{data:e,content:c["default"].createElement(f.FormattedMessage,{id:"SCREENER_OP_"+e.toUpperCase()})}}));return c["default"].createElement("div",{className:this.props.className},c["default"].createElement("div",{className:"D(ib) W(100%)--mobp W(100%)--mobl Mb(5px)--mobp Mb(5px)--mobl W(210px)--scrm W(190px)--scrl Pend(10px) Va(m)"},c["default"].createElement("span",{className:"Mend(7px) Fw(500)"},c["default"].createElement(f.FormattedMessage,{id:t})),this.props.isPremium&&c["default"].createElement(h["default"],{type:"lock",imgClassName:"Va(m) Mx(5px) Mt(-2px)",pIconImgWidth:16,pIconImgHeight:16,isHighValueUser:!0}),c["default"].createElement(p["default"],{name:e+"-select",options:r,selected:a,onSelect:this.onSelect,selectClassName:"C($c-fuji-blue-1-b) Fz(s) Fw(500)",menuClassName:"Pt(5px) Pb(5px) Pos(a) End(0px) Z(10) Bgc(#fff) Bd Bdc($c-fuji-grey-c) Bdrs(2px) Bxsh($boxShadow) W(160px)"})),c["default"].createElement("div",{className:"D(ib) W(100%)--mobp W(100%)--mobl W(560px)--scrm W(510px)--scrl W(428px)!--tab768"},this.renderInputComponent()))}}]),r}(c["default"].PureComponent);S.displayName="LabelInput",S.propTypes={className:u["default"].string,fieldObj:u["default"].object,criteriaObj:u["default"].object,onValueChange:u["default"].func,quoteType:u["default"].string.isRequired,isPremium:u["default"].bool},S.defaultProps={className:"D(ib) Bgc(white) Bdrs(3px) Py(12px) Pstart(18px) Pend(20px) Px(10px)--mobp Px(10px)--mobl W(85%)--mobp W(92%)--mobl Px(10px)--tab768",fieldObj:{},criteriaObj:{},quoteType:"EQUITY"},t["default"]=S,e.exports=t["default"]},2021:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=r(a(1760)),p=a(212),m=r(a(1667)),h=r(a(409));function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,n["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,d["default"])(t);if(b()){var r=(0,d["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,o["default"])(this,e)});function r(e){var t;return(0,i["default"])(this,r),(t=a.call(this,e)).onDependentChange=t.onDependentChange.bind((0,l["default"])(t)),t.onDependeeChange=t.onDependeeChange.bind((0,l["default"])(t)),t.setDepQueryFields=t.setDepQueryFields.bind((0,l["default"])(t)),t.setQueryFields=t.setQueryFields.bind((0,l["default"])(t)),t}return(0,s["default"])(r,[{key:"onDependentChange",value:function(e,t){this.props.onValueChange(e,{field:t.field,criteria:t.criteria})}},{key:"onDependeeChange",value:function(e,t){var a=t.field,r=t.criteria,i=this,s=this.props,l=s.entityIdType,n=s.fieldObj,o=n.fieldId;(0,h["default"])((function(){i.props.onValueChange(e,{field:a,criteria:r})}),200,{trailing:!0})(),this.context.executeAction(m["default"],{silent:!0,entityIdType:l.toLowerCase(),dependentField:o,dependentValues:i.props.queryFields[n.fieldId].getStringValue().join(",")})}},{key:"setDepQueryFields",value:function(e){this.props.queryFields[this.props.depfieldObj.fieldId]=e}},{key:"setQueryFields",value:function(e){this.props.queryFields[this.props.fieldObj.fieldId]=e}},{key:"renderDependent",value:function(){var e,t=this.props.criteriaObj,a=this.props.queryFields[t.field],r=!1;(a?a.getValue()||(r=!0):t.labelsSelected.length||(r=!0),r)&&(e=c["default"].createElement("div",{className:"Mt(8px) Mb(4px) Mih(22px)"},c["default"].createElement(p.FormattedMessage,{id:"SCREENER_DEPEND_FIELD_MSG",values:{field:c["default"].createElement(p.FormattedMessage,{id:"SCREENER_FIELD_"+t.field})}})));return c["default"].createElement(f["default"],{fieldObj:this.props.depfieldObj,criteriaObj:this.props.depCriteriaObj,onValueChange:this.onDependentChange,msgComponent:e,menuClassName:"Z(7) Mt(10px) C($c-fuji-grey-j) Bxsh($boxShadow) Bd Bdc($c-fuji-grey-c) Bdrs(2px) Start(238px)--scrm Start(218px)--scrl Bgc(white) W(560px) W(430px)--tab768 Ta(start) Cur(a) O(n):f",isDependent:!0,ref:this.setDepQueryFields})}},{key:"render",value:function(){return c["default"].createElement("div",{className:this.props.className},c["default"].createElement(f["default"],{fieldObj:this.props.fieldObj,criteriaObj:this.props.criteriaObj,onValueChange:this.onDependeeChange,menuClassName:"Z(7) Mt(10px) C($c-fuji-grey-j) Bxsh($boxShadow) Bd Bdc($c-fuji-grey-c) Bdrs(2px) Start(238px)--scrm Start(218px)--scrl Bgc(white) W(560px) W(430px)--tab768 Ta(start) Cur(a) O(n):f",ref:this.setQueryFields}),c["default"].createElement("div",{className:"Mx(18px) BdB Bdc($finLightGray)"}),this.renderDependent())}}]),r}(c["default"].PureComponent);v.displayName="DepLabelFilter",v.propTypes={className:u["default"].string,fieldObj:u["default"].object,criteriaObj:u["default"].object,depCriteriaObj:u["default"].object,depfieldObj:u["default"].object,onValueChange:u["default"].func,queryFields:u["default"].object,entityIdType:u["default"].string.isRequired},v.defaultProps={className:"D(ib) Bgc(white) Bdrs(3px)",fieldObj:{},criteriaObj:{},depCriteriaObj:{},depfieldObj:{},onValueChange:Function.prototype,queryFields:{},entityIdType:""},v.contextTypes={executeAction:u["default"].func.isRequired,intl:u["default"].object.isRequired},t["default"]=v,e.exports=t["default"]},2022:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(401)),s=r(a(395)),l=r(a(396)),n=r(a(399)),o=r(a(397)),d=r(a(398)),c=r(a(213)),u=r(a(5)),f=r(a(9)),p=a(133),m=a(212),h=a(214);function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,o["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,c["default"])(t);if(b()){var r=(0,c["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,d["default"])(this,e)});function r(e){var t;return(0,s["default"])(this,r),(t=a.call(this,e)).rapidSec=(0,h.getRapidSec)("ScreenerSaveModal"),t.onSave=t.onSave.bind((0,n["default"])(t)),t.onCancel=t.onCancel.bind((0,n["default"])(t)),t.onTitleChange=t.onTitleChange.bind((0,n["default"])(t)),t.setDescRef=t.setDescRef.bind((0,n["default"])(t)),t.setTitleRef=t.setTitleRef.bind((0,n["default"])(t)),t.state={title:e.title,saveEnabled:!!t.props.title.length},t}return(0,l["default"])(r,[{key:"onSave",value:function(e){e.preventDefault(),this.props.onSave&&this.props.onSave({title:this.title&&this.title.value,desc:this.desc&&this.desc.value},e)}},{key:"onCancel",value:function(e){e.preventDefault(),this.props.onCancel&&this.props.onCancel(e)}},{key:"onTitleChange",value:function(){var e=this.title.value;this.setState({title:e,saveEnabled:!!e.toString().trim()})}},{key:"setTitleRef",value:function(e){this.title=e}},{key:"setDescRef",value:function(e){this.desc=e}},{key:"render",value:function(){var e=this.props,t=this.context.intl.formatMessage,a={};return this.state.saveEnabled||(a={disabled:"disabled",className:"Bgc($c-fuji-blue-1-b) C(white) Fw(500) Px(20px) Py(8px) Bdrs(3px) Bd(0) Fz(s) D(ib) Miw(110px) O(n):f Op(0.3)"}),u["default"].createElement("div",{className:e.className,"data-test":"screener-modal"},u["default"].createElement("h2",{className:"Fz(17px) C(black) Mb(10px)"},u["default"].createElement(m.FormattedMessage,{id:"SAVE_FILTERS"})),u["default"].createElement("form",{onSubmit:this.onSave},u["default"].createElement("input",{type:"text","aria-label":t({id:"TITLE"}),className:"Fz(s) H(34px) Bdc($c-fuji-grey-c) Bdc($c-fuji-blue-1-b):f W(100%) Mb(20px) Pstart(6px) Fw(500)",onChange:this.onTitleChange,value:this.state.title,ref:this.setTitleRef,placeholder:t({id:"SCREENER_TITLE_PLACEHOLDER"}),required:!0,autoFocus:!0}),u["default"].createElement("textarea",{rows:3,"aria-label":t({id:"DESCRIPTION"}),className:"Fz(s) H(60px) Bdc($c-fuji-grey-c) Bdc($c-fuji-blue-1-b):f Pstart(6px) Pt(6px) W(100%)",defaultValue:e.desc,placeholder:t({id:"SCREENER_DESC_PLACEHOLDER"}),ref:this.setDescRef}),u["default"].createElement("div",{className:"Bfc Mt(20px)"},u["default"].createElement(p.I13nButton,(0,i["default"])({className:"Bgc($c-fuji-blue-1-b) Bgc($actionBlueHover):h C(white) Fw(500) Px(20px) Py(9px) Bdrs(3px) Bd(0) Fz(s) D(ib) Whs(nw) Miw(110px) O(n):f",title:t({id:"SAVE"}),i13nModel:{sec:this.rapidSec,slk:"save",itc:0,elm:"btn",elmt:"done",rspns:"nav"}},a,{onClick:this.onSave}),u["default"].createElement(m.FormattedMessage,{id:"SAVE"})),u["default"].createElement(p.I13nButton,{className:"C($c-fuji-blue-1-b) Bd Bdc($c-fuji-blue-1-b) Bdc($actionBlueHover):h C($c-fuji-blue-1-b) C($actionBlueHover):h C($actionBlueHover):f Fw(500) Px(20px) Py(8px) Bdrs(3px) Fz(s) D(ib) Mstart(20px) Whs(nw) Miw(110px) O(n):f",title:t({id:"CANCEL"}),i13nModel:{sec:this.rapidSec,slk:"save-criteria",itc:1,elm:"btn",elmt:"cl",rspns:"cl"},onClick:this.onCancel},u["default"].createElement(m.FormattedMessage,{id:"CANCEL"})))))}}]),r}(u["default"].Component);v.displayName="SaveScreenerModal",v.propTypes={className:f["default"].string,onSave:f["default"].func.isRequired,onCancel:f["default"].func.isRequired,title:f["default"].string,desc:f["default"].string},v.defaultProps={className:"Bxsh($boxAreaShadow) Bgc(white) P(25px) Pos(f) Start(50%) T(50%) P(25px) W(400px) Mstart(-200px) W(74%)--mobp Mstart(-45%)--mobp T(26%)--mobl",title:"",desc:""},v.contextTypes={intl:f["default"].object.isRequired},t["default"]=v,e.exports=t["default"]},2023:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(5)),s=r(a(9)),l=a(212),n=a(408),o="mini",d="default",c=function(e){var t,a=e.total,r=e.isEmpty,s=e.userModified,d=e.entityIdType,c=e.type,u=e.error;u&&(t=i["default"].createElement("div",{className:"Mt(30px) Mstart(22px) W(175px)"},i["default"].createElement("div",{className:"C($c-fuji-red-2-b) Fw(b) Mb(10px)"},i["default"].createElement(l.FormattedMessage,{id:"INVALID_PREMIUM_REGION"===u?"MSG_ONLY_US":"MSG_STRICT_FILTER"})),"STRICT_CRITERIA"===u?i["default"].createElement("div",null,i["default"].createElement(l.FormattedMessage,{id:"MSG_RELAX_FILTER"})):null));r&&s&&(t=i["default"].createElement("div",{className:"Mt(30px) Mstart(22px) W(175px)"},i["default"].createElement("div",{className:"C($c-fuji-red-2-b) Fw(500px) Mb(10px)"},i["default"].createElement(l.FormattedMessage,{id:"MSG_INSUFFICIENT_FILTER",values:{type:i["default"].createElement(l.FormattedMessage,{id:n.ENTITYID_CONFIG[d]?n.ENTITYID_CONFIG[d].title:"RESULTS"})}}))));return c===o?i["default"].createElement("div",{className:"Va(b) D(ib)--tab768 D(n) Bdstartw(3px) BdStart Bdc($grayBorder) Pstart(10px) Fz(xs) Mstart(30px)"},i["default"].createElement("div",{className:"Fw(500) Mt(-3px)"},i["default"].createElement(l.FormattedMessage,{id:"ESTIMATED_RESULTS"})),i["default"].createElement("div",{className:""},i["default"].createElement("span",{className:"Fw(b) Fz(18px) Mend(5px)"},a)),t):i["default"].createElement("div",{className:"Fl(start) D(ib) D(n)--tab768 Mstart(6%)--scrm Mstart(2.2%)--scrl Mb(20px)--mobp Mb(20px)--mobl"},i["default"].createElement("div",{className:"Bdstartw(4px) BdStart Bdc($grayBorder) Pstart(18px)"},i["default"].createElement("div",{className:"Fw(500) Mt(-3px)"},i["default"].createElement(l.FormattedMessage,{id:"ESTIMATED_RESULTS"})),i["default"].createElement("div",{className:"Mt(5px)"},i["default"].createElement("div",{className:"Fw(b) Fz(36px)"},a))),t)};c.displayName="ScreenerCriteriaTotal",c.propTypes={total:s["default"].number.isRequired,isEmpty:s["default"].bool,userModified:s["default"].bool,entityIdType:s["default"].string,type:s["default"].string,error:s["default"].string},c.defaultProps={total:0,isEmpty:!0,type:d},t["default"]=c,e.exports=t["default"]},2024:function(e,t,a){"use strict";var r=a(1360),i=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var s=i(a(395)),l=i(a(396)),n=i(a(399)),o=i(a(397)),d=i(a(398)),c=i(a(213)),u=r(a(5)),f=i(a(9)),p=i(a(1289)),m=i(a(1747));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var b=function(e){(0,o["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,c["default"])(t);if(h()){var r=(0,c["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,d["default"])(this,e)});function r(e){var t;return(0,s["default"])(this,r),(t=a.call(this,e)).barNode=null,t.transListener=null,t.setBarRef=t.setBarRef.bind((0,n["default"])(t)),t.state={barClassName:"fprogbar"+(e.isLoading?" animate":"")},t}return(0,l["default"])(r,[{key:"componentWillReceiveProps",value:function(e){e.isLoading!==this.props.isLoading&&this.setState({barClassName:"fprogbar"+(this.props.isLoading?" stopanimate":" animate")})}},{key:"componentWillUnmount",value:function(){this.barNode&&this.transListener&&this.barNode.removeEventListener("transitionend",this.transListener)}},{key:"setBarRef",value:function(e){var t=this;this.barNode=e,e&&(this.transListener=e.addEventListener("transitionend",(function(e){t.setState({barClassName:"fprogbar"})}),!1))}},{key:"render",value:function(){return this.props.isEnabled?u["default"].createElement("div",{className:this.props.className+(this.props.isLoading?" Bgc($finLightGray)":"")},u["default"].createElement("div",{ref:this.setBarRef,className:this.state.barClassName})):null}}]),r}(u.Component);b.displayName="ProgressBar",b.propTypes={isLoading:f["default"].bool,isEnabled:f["default"].bool,className:f["default"].string,id:f["default"].string},b.defaultProps={isLoading:!1,isEnabled:!0,className:"W(100%) D(ib)",id:"fprogressbar"};var v=(0,p["default"])(b,[m["default"]],(function(e,t){return{isLoading:e.getStore(m["default"]).isLoading(t.id)}}));t["default"]=v,e.exports=t["default"]},2025:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(397)),n=r(a(398)),o=r(a(213)),d=r(a(5)),c=r(a(9)),u=a(212),f=a(408);function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var m={year:"numeric",month:"short",day:"numeric"};function h(e,t){if(!e||!t)return null;for(var a=[],r=0,i=0;r<e.length;r++){var s=e[r],l=s.field,n={field:l,operator:s.operators[0],values:[]},o=t[l];if(o&&!f.BLACK_LISTED_FIELD_IDS[l]){n.type=o.type;var d=s.labelsSelected,c=s.values;if(c.length||d.length){if(d.length)for(i=0;i<d.length;i++)n.values[i]=o.labels[d[i]].displayName;else for(i=0;i<c.length;i++)n.values[i]=c[i];a.push(n)}}}return a}var b=function(e){(0,l["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,o["default"])(t);if(p()){var r=(0,o["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,n["default"])(this,e)});function r(e){var t;return(0,i["default"])(this,r),(t=a.call(this,e)).state={criteriaTextData:null},t}return(0,s["default"])(r,[{key:"componentDidMount",value:function(){this.setState({criteriaTextData:h(this.props.criteriaMeta.criteria,this.props.fields)})}},{key:"componentWillReceiveProps",value:function(e){this.props.criteriaMeta===e.criteriaMeta&&this.props.fields===e.fields||this.setState({criteriaTextData:h(e.criteriaMeta.criteria,e.fields)})}},{key:"render",value:function(){var e=this.state.criteriaTextData;if(!e||!e.length)return null;var t=this.context.intl,a=t.formatDate,r=t.formatMessage,i=this.props,s=i.className,l=(i.criteriaMeta.topOperator||"AND").toUpperCase(),n="AND"===l?", ":"".concat(r({id:l})," "),o=r({id:"AND"});return d["default"].createElement("p",{className:s,"data-test":"criteria-text"},e.map((function(t,i){var s=t.values.map((function(e){var r=e;return"DATE"===t.type&&(r=a(e,m)),r}));if(0===s.length)return null;var l="SCREENER_FIELD_"+t.field,c=(t.operator||"EQ").toUpperCase(),f="EQ"===c?"":r({id:"SCREENER_OP_"+c});return f+=" "+(s.length>1?s.join(" ".concat(o," ")):s[0]),d["default"].createElement("span",{key:t.field+i},d["default"].createElement(u.FormattedMessage,{id:l}),":",d["default"].createElement("span",{className:"Fw(b) Mstart(5px)"},f),i!==e.length-1?n:"")})))}}]),r}(d["default"].Component);b.displayName="ScreenerCriteriaText",b.propTypes={className:c["default"].string,criteriaMeta:c["default"].object.isRequired,fields:c["default"].object.isRequired},b.defaultProps={className:"M(0) P(0) Mt(10px)",fields:{},criteriaMeta:{}},b.contextTypes={intl:c["default"].object.isRequired},t["default"]=b,e.exports=t["default"]},2026:function(e,t,a){if(void 0===r)var r={};r.statistics={name:"statistics",height:48,width:48,path:"M38 32v12c0 1.1.9 2 2 2s2-.9 2-2V32c0-1.1-.9-2-2-2s-2 .9-2 2m-6 14c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2s-2 .9-2 2v34c0 1.1.9 2 2 2m-8 0c1.1 0 2-.9 2-2V18c0-1.1-.9-2-2-2s-2 .9-2 2v26c0 1.1.9 2 2 2m-8 0c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2s-2 .9-2 2v40c0 1.1.9 2 2 2m-8 0c1.1 0 2-.9 2-2V22c0-1.1-.9-2-2-2s-2 .9-2 2v22c0 1.1.9 2 2 2"},e.exports&&(e.exports=r.statistics)},2027:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.dataNormalizer=void 0;var i=r(a(401)),s=r(a(1307)),l=r(a(395)),n=r(a(396)),o=r(a(399)),d=r(a(397)),c=r(a(398)),u=r(a(213)),f=r(a(136)),p=r(a(5)),m=r(a(9)),h=r(a(2028)),b=a(1286),v=a(133),y=a(212),g=r(a(1298)),E=a(1922),x=r(a(135)),S=a(1290),C=r(a(1339)),N=r(a(1567)),M=a(214);function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var F=["#ec0008","#fa2c2c","#fa4949","#ff7272","#ff9693","#cdddd5","#0ee98b","#13dd86","#0fcb74","#00bc69","#00a95b"],T={all:"allocation",sector:"sectorAllocation"},_=function(e,t,a){for(var r=[],i=function(i){var s=e[i],l={intradaymarketcap:0};Object.keys(s).forEach((function(e){var r=a?t[a][e]:t[e],i=s[e]&&"object"===(0,f["default"])(s[e])?s[e].raw:s[e];r&&void 0!==i&&(l[r]=i)})),r[i]=l},s=0;s<e.length;s++)i(s);return r};t.dataNormalizer=_;var P=function(e){(0,d["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,u["default"])(t);if(R()){var r=(0,u["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,c["default"])(this,e)});function r(e){var t;(0,l["default"])(this,r),t=a.call(this,e);var i=e.rawCriteria,s=e.criteriaMeta;return t.state={colors:F,colorLimits:[-6,6],zoom:0,sizeCriteria:i&&i.sortField||s&&s.sortField,colorCriteria:"ONE_DAY_PERCENT_CHANGE"},t.handleTickerClick=t.handleTickerClick.bind((0,o["default"])(t)),t}return(0,n["default"])(r,[{key:"handleTickerClick",value:function(e){e&&"string"==typeof e&&((0,M.fireRapidClick)(this.context,{rapidSec:this.props.rapidSec,slk:"treeMap-"+e,elm:"btn",outcm:"qsp-navigate",itc:0}),this.context.executeAction(x["default"],{url:(0,M.generateURL)("quote",{symbol:e,comscoreEnabled:!0}),type:"click"}))}},{key:"handleZoom",value:function(e){var t=this;return function(a){a.preventDefault();var r=t.state.zoom+e;r<0||t.setState({zoom:r})}}},{key:"renderColorBar",value:function(){var e,t=this,a=this.state.colors,r=((0,s["default"])(e={0:0},Math.floor(a.length/2),"0%"),(0,s["default"])(e,a.length-1,1),e);return p["default"].createElement("div",{className:"D(ib)"},this.state.colors.map((function(e,a){var i=p["default"].createElement("div",{key:"color-"+e,className:"W(28px) D(ib) H(13px) Va(b)",style:{backgroundColor:e}});if(r[a]!==undefined){var s="string"==typeof r[a]?r[a]:"".concat(t.state.colorLimits[r[a]],"%");return p["default"].createElement("div",{key:"color-"+e,className:"D(ib)"},p["default"].createElement("div",{className:"C($c-fuji-grey-k) Ta(c) Fz(11px) Fw(500)"},s),i)}return i})))}},{key:"renderZoomButtons",value:function(){var e,t="D(ib) Bdrs(3px) Bdc($c-fuji-grey-c) Bds(s) Bdw(t) Mx(4px) P(0) ";return 0===this.state.zoom&&(e="Op(0.3)"),p["default"].createElement("div",{className:"D(ib) Fl(end)"},p["default"].createElement(v.I13nButton,{i13nModel:{rapidSec:this.props.rapidSec,slk:"treeMap-zoom-in",elm:"btn",outcm:"zoom-in",itc:1},"data-test":"zoom-in-btn",className:t,onClick:this.handleZoom(1)},p["default"].createElement(b.Icon,{asset:C["default"],height:18,className:"Px(6px) Py(3px)"})),p["default"].createElement(v.I13nButton,{i13nModel:{rapidSec:this.props.rapidSec,slk:"treeMap-zoom-out",elm:"btn",outcm:"zoom-out",itc:1},"data-test":"zoom-out-btn",className:t+e,onClick:this.handleZoom(-1)},p["default"].createElement(b.Icon,{asset:N["default"],height:20,className:"Px(6px) Py(3px)"})))}},{key:"renderSettingsBar",value:function(){var e,t;return this.props.allocationType?(e=S.AVERAGE_WEIGHT,t=S.UNREALIZED_CONTRIBUTION_RETURN):(e=p["default"].createElement(y.FormattedMessage,{id:"SCREENER_FIELD_"+this.state.sizeCriteria}),t=p["default"].createElement(y.FormattedMessage,{id:this.state.colorCriteria})),p["default"].createElement("div",{className:"C($c-fuji-grey-j) Bdbw(1px) Bdbs(s) Bdbc($c-fuji-grey-d) Pb(15px) Mb(10px)"},p["default"].createElement("span",{className:"Mstart(20px)"},p["default"].createElement(y.FormattedMessage,{id:"TREE_MAP_SIZE"}),p["default"].createElement("span",{className:"C(black) Fw(500) Mstart(5px)"},e)),p["default"].createElement("span",{className:"Mstart(45px)"},p["default"].createElement(y.FormattedMessage,{id:"TREE_MAP_COLOR"}),p["default"].createElement("span",{className:"C(black) Fw(500) Mstart(5px)"},t)))}},{key:"renderBody",value:function(){var e,t,a=this.props,r=a.rows,s=a.fieldMap,l=a.rawCriteria,n=a.criteriaMeta,o=a.isInvalid,d=a.screenerType,c=a.allocationType,u=a.chartSettings;if(!a.hasError&&r&&r.length&&(l||n)){a.isLoading?e=p["default"].createElement("div",{key:"overlay",className:"Pos(a) Start(0) T(0) End(0) B(0) Z(4) Bgc(white)","data-test":"table-overlay"},p["default"].createElement("div",{className:"Mstart(a) Mend(a) Ta(c)"},p["default"].createElement(g["default"],{type:"fuji"}))):o&&(e=p["default"].createElement(E.ScreenerCriteriaChangedMessage,{key:"overlay"}));var f={colorLimits:this.state.colorLimits,colors:this.state.colors};c&&(f=Object.assign({},f,{maxDecimals:2,minDecimals:2,dataType:T[c]})),t=p["default"].createElement(h["default"],(0,i["default"])({key:"tree-map",data:{rows:_(r,s,c),sortField:l&&l.sortField||n&&n.sortField},config:f,zoom:this.state.zoom,ref:this.setChartRef},u,{onClick:c&&"sector"===c?null:this.handleTickerClick}))}else d&&(t="new"===d?p["default"].createElement(E.ScreenerFieldEmptyMessage,{key:"new-screener"}):p["default"].createElement(E.ScreenerNoDataMessage,{key:"no-data"}));return[e,t]}},{key:"render",value:function(){return p["default"].createElement("div",{"data-test":"treemap",className:"Mt(5px) Pos(r) Z(9)"},p["default"].createElement("div",{className:"Va(b) Mb(12px)"},this.renderSettingsBar(),this.renderColorBar(),this.renderZoomButtons()),this.renderBody())}}]),r}(p["default"].PureComponent);P.displayName="TreeMap",P.propTypes={rows:m["default"].array.isRequired,fieldMap:m["default"].object.isRequired,rawCriteria:m["default"].object,isLoading:m["default"].bool,criteriaMeta:m["default"].object,isInvalid:m["default"].bool,rapidSec:m["default"].string,hasError:m["default"].bool,screenerType:m["default"].string,allocationType:m["default"].string,chartSettings:m["default"].object},P.defaultProps={chartSettings:{style:{position:"relative",width:"100%",paddingBottom:"50%"}}},P.contextTypes={executeAction:m["default"].func.isRequired},t["default"]=P},2028:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2029);t["default"]=r["default"]},2029:function(e,t,a){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},function(e,t){function a(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var s=a(5),l=a(5),n=a(1493),o=a(2030),d=a(1325).defineMessages({price:{id:"treeMap.price",description:"Price of ticker",defaultMessage:"Price"},change:{id:"treeMap.change",description:"Price and percent change of ticker",defaultMessage:"Change"},marketCap:{id:"treeMap.marketCap",description:"Market Cap of ticker",defaultMessage:"Market Cap"}}),c={fontLimits:[6,26],colors:["#ec0008","#fa2c2c","#fa4949","#ff7272","#ff9693","#cdddd5","#0ee98b","#13dd86","#0fcb74","#00bc69","#00a95b"],colorLimits:[-6,6],maxDecimals:2,minDecimals:1},u={backgroundColor:"white",height:125,width:200,fontSize:12,tickerFontSize:15,tickerColor:"#008cff",font:"HelveticaNeue",fontColor:"#464e56",positiveColor:"#009f5e",negativeColor:"#ff333a",shadowBlur:5,margins:{top:15,left:15,bottom:15,right:15},textYMargin:5,textXMargin:25,tickerLabelMargin:25,maxDecimals:2,minDecimals:1},f=function(e){function t(t){var a=e.call(this,t)||this,r=t.locale,i=t.formatMessage;return a.labels={price:i(d.price,r),change:i(d.change,r),marketCap:i(d.marketCap,r)},a}return i(t,e),t.prototype.componentDidMount=function(){this.redraw()},t.prototype.componentDidUpdate=function(){this.redraw()},t.prototype.render=function(){var e=this;return s.createElement("section",{style:this.props.style},s.createElement("div",{ref:function(t){return e.chart=t},style:{position:"absolute",width:"100%",height:"100%"},className:"treeMap"}))},t.prototype.redraw=function(){o["default"](this.chart,{multiplier:this.props.zoom*this.props.multiplier||1,data:this.props.data,config:Object.assign({},c,this.props.config),toolTipConfig:Object.assign({},u,this.props.toolTipConfig,this.props.config&&this.props.config.dataType?{dataType:this.props.config.dataType}:{}),locale:this.props.locale,labels:Object.assign({},this.labels,this.props.labels),onClick:this.props.onClick})},t.defaultProps={locale:"en",multiplier:1.1,formatMessage:function(e){return e.defaultMessage},style:{position:"relative",zIndex:5},zoom:0},t.displayName="TreeMapChart",t}(l.PureComponent);t["default"]=n["default"](f)},2030:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(1404),i=a(2031),s=a(1325);t["default"]=function(e,t){var a=t.multiplier,l=t.config,n=t.locale,o=t.toolTipConfig,d=t.labels,c=t.onClick,u=l.maxDecimals,f=l.minDecimals,p=l.dataType,m=e.clientWidth*a,h=e.clientHeight*a,b=i["default"](t.data,m,h),v=r["default"](e,{w:m,h:h,toolTipOpts:{treeData:b,locale:n,toolTipConfig:o,labels:d,onClick:c},toolTip:!0}).main;v.clearRect(0,0,m,h),v.fillStyle="#fff",v.fillRect(0,0,m,h),b.forEach((function(e){var t=e.percentChange,a=e.ticker;v.fillStyle=function(e,t){var a=t.colors,r=t.colorLimits,i=Math.floor(a.length/2),s=r[1]/i;if(!e||"0.00"===e.toFixed(2))return a[i];for(var l=0,n=r[0]+s;l<a.length;l++,n+=s)if(l!==i&&e<n)return a[l];return a[a.length-1]}(t,l);var r=e.coordinates,i=r.x,o=r.y,d=e.width-1,c=e.height-1;v.fillRect(i,o,d,c);var m={maximumFractionDigits:u,minimumFractionDigits:f},h=s.formatNumber(t,n,m)+"%",b=function(e,t,a,r,i,s){for(var l=s.fontLimits[0],n=s.fontLimits[1];n>l;n--){if(e.font=n+"px HelveticaNeue-Bold",Math.max(e.measureText(r).width,e.measureText(i).width)+2*n<a&&3*n<t)return n}return 0}(v,c,d,a,h,l);v.fillStyle="#fff";var y=i+b/1.5,g=o+1.5*b,E=1.25;if(v.font=b+"px HelveticaNeue-Bold",v.fillText(a,y,g),p&&"sectorAllocation"===p&&e.price){var x=s.formatNumber(e.price,n,Object.assign({},m,{style:"currency"}));E=1.5,v.font=b+10+"px HelveticaNeue",v.fillText(x,y,g+b*E),E=2.75}v.font="lighter "+b+"px HelveticaNeue",v.fillText(h,y,g+b*E)})),e.scrollTop=e.scrollHeight-e.clientHeight,e.scrollLeft=e.scrollWidth-e.clientWidth}},2397:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(5)),s=r(a(9)),l=r(a(40)),n=a(212),o=a(1414),d=a(214),c=function(e){var t,a=e.shareUrl,r=e.title,s=e.desc,c=e.openButtonColor,u=e.openButtonIconSize,f=e.openDirection,p=e.showLabel,m=e.className,h=e.wrapperClassName,b={ariaLabel:"screener-share",buttonsToShow:l["default"].fromJS(["tumblr","facebook","twitter","mail"]),url:a,imageUrl:"https://s.yimg.com/os/mit/media/m/social/images/social_default_logo-1481777.png",title:r,description:s,twitterId:"YahooFinance",isTouchDevice:(0,d.isTouchDevice)(),openButtonClassName:"Bd(n) Bxz(bb)",openButtonIconName:"share",openButtonColor:c,openButtonIconSize:u,openDirection:f,ylkData:{sec:(0,d.getRapidSec)("ScreenerShare"),subsec:"screener-share-left",uuid:a}};return p&&(t=i["default"].createElement("span",{className:"Fl(end) Mstart(6px) Pt(4px) Va(b) H(16px) D(ib) Lh(17px) C($c-fuji-blue-1-b)"},i["default"].createElement(n.FormattedMessage,{id:"SHARE"}))),i["default"].createElement("div",{className:m},i["default"].createElement("div",{key:"shareButtons",className:h},i["default"].createElement(o.ShareButtonMenu,b),t))};c.displayName="ScreenerShare",c.propTypes={title:s["default"].string,desc:s["default"].string,shareUrl:s["default"].string,className:s["default"].string,wrapperClassName:s["default"].string,openButtonColor:s["default"].string,openButtonIconSize:s["default"].number,openDirection:s["default"].string,showLabel:s["default"].bool},c.defaultProps={desc:"",shareUrl:"https://finance.yahoo.com/screener",className:"D(ib) Va(m) Miw(60%) Mb(3px)",wrapperClassName:"Fl(end) Cur(p) D(b)--tab768 D(b)--tab1024 screener-row:h_D(b) Px(0) Mt(10px) Mend(20px) Mend(0)--tab768",openButtonColor:"#959595",openButtonIconSize:20,openDirection:"left",showLabel:!1},t["default"]=c,e.exports=t["default"]},2688:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=t.RemoveScreener=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(399)),n=r(a(397)),o=r(a(398)),d=r(a(213)),c=r(a(5)),u=r(a(9)),f=r(a(1999)),p=r(a(12)),m=r(a(2689)),h=r(a(2692)),b=r(a(1303)),v=a(408),y=a(214),g=a(215),E=r(a(1353)),x=r(a(134)),S=r(a(40)),C=a(1318),N=a(133),M=a(212),R=r(a(1288)),F=r(a(1757)),T=r(a(1485)),_=r(a(1298)),P=r(a(2397)),k=a(1286),I=r(a(1678)),w=r(a(1455)),L=r(a(1311)),B=r(a(1339)),D=r(a(1289)),O=r(a(1312)),j=r(a(1340)),A=r(a(1487));function $(e){return function(){var t,a=(0,d["default"])(e);if(V()){var r=(0,d["default"])(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,o["default"])(this,t)}}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var W=function(e){(0,n["default"])(a,e);var t=$(a);function a(e){var r;return(0,i["default"])(this,a),(r=t.call(this,e)).onClick=r.onClick.bind((0,l["default"])(r)),r}return(0,s["default"])(a,[{key:"onClick",value:function(e){var t=this.props;this.props.onClick(t.scrId,t.title,e)}},{key:"render",value:function(){return c["default"].createElement(N.I13nButton,{key:"delete-screener",className:"del-screener Fl(end) Cur(p) D(n) D(b)--tab768 D(b)--tab1024 smartphone_D(b) screener-row:h_D(b) Px(0) Mt(4px) Mend(20px) Mend(0)--tab768",title:"Delete",i13nModel:{slk:"delete-screener",sec:this.props.rapidSec,itc:1,elm:"btn",elmt:"rm",outcm:"show-confirm-dialog"},onClick:this.onClick},c["default"].createElement(k.Icon,{className:"H(19px) W(24px) Stkw(0)! del-screener:h_Fill($c-fuji-punch-a)! del-screener:h_Stk($c-fuji-punch-a)! smartphone_Fill($c-fuji-punch-a)! smartphone_Stk($c-fuji-punch-a)! tablet_Fill($c-fuji-punch-a)! tablet_Stk($c-fuji-punch-a)!",color:"#787d82",asset:I["default"],height:19,width:24}),c["default"].createElement("span",{className:"C($gray) del-screener:h_C($c-fuji-punch-a) Fz(xs) D(b) Mt(3px)"},c["default"].createElement(M.FormattedMessage,{id:"DELETE_BTN"})))}}]),a}(c["default"].PureComponent);W.displayName="RemoveScreenerButton",W.propTypes={rapidSec:u["default"].string.isRequired,onClick:u["default"].func.isRequired,title:u["default"].string.isRequired,scrId:u["default"].string.isRequired},W.defaultProps={onClick:Function.prototype},t.RemoveScreener=W;var U=function(e){(0,n["default"])(a,e);var t=$(a);function a(e,r){var s;return(0,i["default"])(this,a),(s=t.call(this,e,r)).state={userScreenerDates:{}},s.rapidSec=(0,y.getRapidSec)("ScreenerLanding"),s.isLightBrowser=(0,g.isLightBrowser)(r),s.onDeleteClick=s.onDeleteClick.bind((0,l["default"])(s)),s._hideModal=s._hideModal.bind((0,l["default"])(s)),s.deleteScreener=s.deleteScreener.bind((0,l["default"])(s)),s}return(0,s["default"])(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.userList,a=e.userListError,r={};t.isEmpty()||a||(t.forEach((function(e){r[e.get("id")]={creationDate:e.get("creationDate"),lastUpdated:e.get("lastUpdated")}})),this.setState({userScreenerDates:r}))}},{key:"deleteScreener",value:function(e){this._hideModal(),this.context.executeAction(h["default"],{scrId:e})}},{key:"_hideModal",value:function(){this.context.executeAction(b["default"].hide)}},{key:"onDeleteClick",value:function(e,t){var a=this.context.intl.formatMessage;this.context.executeAction(b["default"].show,{wrapperClass:"Bgc($modalBackground) Ovy(a)",component:F["default"],componentProps:{title:a({id:"CONFIRM_DELETE"}),message:a({id:"CONFIRM_DELETE_SCREENER_MSG"},{scrName:t}),confirmText:a({id:"DELETE_SCREENER"}),cancelText:a({id:"CANCEL"}),onConfirm:this.deleteScreener.bind(this,e),onCancel:this._hideModal}})}},{key:"renderShareIcon",value:function(e,t,a,r){return!this.isLightBrowser&&e&&c["default"].createElement(P["default"],{title:t,desc:a,shareUrl:r,wrapperClassName:"Fl(end) Cur(p) D(b)--tab768 D(b)--tab1024 screener-row:h_D(b) Px(0) Mend(20px) Mend(0)--tab768",className:"D(ib) Va(m) Miw(60%) Mb(3px)"})}},{key:"renderDeleteIcon",value:function(e,t,a){return!this.isLightBrowser&&e&&c["default"].createElement(W,{rapidSec:this.rapidSec,onClick:this.onDeleteClick,title:t,scrId:a})}},{key:"renderRows",value:function(e,t){var a=this,r=this.context.intl.formatMessage,i=this.context.intl.formatDate,s=this.state.userScreenerDates;return c["default"].createElement("table",{className:"Tbl(f) W(100%) BdT Bdtc($seperatorColor)"},c["default"].createElement("tbody",null,e.map((function(e){var l,n,o,d,u,f=null,p=e.getIn(["criteriaMeta","quoteType"],"EQUITY"),m=c["default"].createElement(M.FormattedMessage,{id:(0,v.getQuoteTypeConfig)(p).title});if((u=e.get("isPremium"))&&!a.props.enablePremium)return null;if(t)d=x["default"].decode(e.get("canonicalName")||""),l=x["default"].decode(r({id:d})||""),n=r({id:d+"_DESC"}),o="/screener/predefined/"+(e.get("canonicalName")||e.get("id")).toLowerCase();else{l=x["default"].decode(e.get("title")||""),n=x["default"].decode(e.get("description")||""),o="/screener/"+e.get("id");var h=s[e.get("id")]||{},b=h.creationDate,g=h.lastUpdated;(b||g)&&(f=c["default"].createElement("div",{className:"C($c-fuji-grey-j) Fz(xs) Fw(n)"},m,c["default"].createElement("span",{className:"Mx(5px)"},"|"),c["default"].createElement(M.FormattedMessage,{id:b!==g?"FILTER_UPDATED":"FILTER_CREATED",values:{date:i(g||b,{year:"numeric",month:"short",day:"numeric"})}})))}var E,S,N,F=r({id:"MATCHES"}),T=e.get("total");(-1===T?(E=c["default"].createElement("span",{className:"D(b) Tal(start) Mt(5px)"},c["default"].createElement(k.Icon,{className:"H(19px) W(19px) Fill($grayBorder)! Stk($grayBorder)! Stkw(0)! Mb(7px) Cur(a)!",asset:L["default"],height:19,color:"#9ea2af"})),F=r({id:"DATA_NA"})):E=T>50?c["default"].createElement("span",{className:"D(b) Fz(23px) Fw(b) C($c-fuji-grey-j) Tal(start)"},50,c["default"].createElement("span",{className:"W(18px) D(ib) Pos(r) T(-2px) Tal(end)"},"+")):c["default"].createElement("span",{className:"D(b) Fz(23px) Fw(b) C($c-fuji-grey-j) Tal(start) "},T),u&&a.props.enablePremium&&!a.props.isHighValueUser)?S=c["default"].createElement(j["default"],{content:c["default"].createElement(A["default"],{ncid:C.NCIDS.RESEARCH_INSIGHTS_TRADE_IDEAS.parent,className:"W(280px) H(155px) Fz(s) C($primaryColor) Cur(d) Ta(c)",messageClassName:"Fw(500) Mt(15px) Mb(25px) Ta(c)"}),className:"Pt(8px)",overlayClassName:"Bdrs(4px) Start(-5px) T(-170px)",arrowDirection:"down",arrowClassName:"End(100%) Bds(s) Bdendw(10px) Bdstartw(10px) Bdtw(10px) Bdbw(10px) Bdstartc(t) Bdendc(t) Bdbc(t)",arrowStyle:{left:50,top:169}},c["default"].createElement("span",{className:"C($linkColor) D(ib) Cur(p)"},l)):S=c["default"].createElement(R["default"],{href:o,className:"Ell C($linkColor) D(ib)",i13nModel:(0,y.geti13nModel)("link",{sec:a.rapidSec}),title:l},l);return u&&a.props.enablePremium&&(N=c["default"].createElement(O["default"],{lockIconClassName:"Mstart(5px) Va(m) Mb(4px)",imgClassName:"Mb(2px) Mx(5px) Va(bl)",isHighValueUser:a.props.isHighValueUser,type:"lock"})),c["default"].createElement("tr",{className:"screener-row BdB Bdbc($seperatorColor) Pend(20px) Pend(10px)--tab768",key:e.get("id")},c["default"].createElement("td",{className:"Pt(7px) Pb(5px) Tov(e) Miw(200px) Fz(14px) Fw(600) Ta(start) Pend(15px) W(20%) W(30%)--tab768 W(25%)--tab1024 W(65%)--mobp W(50%)--mobl"},S,N,f),c["default"].createElement("td",{className:"Pt(7px) Pb(5px) Bxz(bb) W(55%) W(50%)--tab768 Fz(s) smartphone_D(n) Pend(15px) ",title:n},c["default"].createElement("p",{className:"Lh(15px) LineClamp(2,30px) "},n)),c["default"].createElement("td",{className:"Pt(7px) Pb(5px) Ta(end)"},E,c["default"].createElement("div",{className:"C($gray) Fz(xs) Mt(-5px) Ta(start)"},F)),c["default"].createElement("td",{className:"Ta(end)"},a.renderShareIcon(t,l,n,o),a.renderDeleteIcon(!t,l,e.get("id"))))}))))}},{key:"renderUserScreeners",value:function(){var e=this.props,t=e.userList,a=e.userListError;if((0,y.isSignedIn)(this.context)){if(a)return this.renderEmptyState(!0);var r=null;return this.isLightBrowser||(r=c["default"].createElement("div",{className:"D(ib) Va(m) D(b)--mobp Mstart(30px) Mstart(0px)--mobp Mb(10px)--mobp"},c["default"].createElement(R["default"],{href:"/screener/new",className:"Mt(5px) Fw(b) C($actionBlueHover):h C($linkColor) newLink",i13nModel:(0,y.geti13nModel)("link",{sec:this.rapidSec})},c["default"].createElement(k.Icon,{className:"H(17px) W(17px) Mend(4px) newLink:h_Fill($actionBlueHover)! newLink:h_Stk($actionBlueHover)! Stkw(0)!",asset:B["default"],color:"#004cd2",height:17}),c["default"].createElement(M.FormattedMessage,{id:"NEW_SCREENER"})))),!t.isEmpty()&&!a&&c["default"].createElement("div",{id:"screener-landing-user-defined",className:"Cl(b)",key:"user"},c["default"].createElement("h2",{className:"D(ib) Fz(l) Fw(b) Mb(10px) Mb(8px)--mobp"},c["default"].createElement(M.FormattedMessage,{id:"MY_SAVED_SCREENERS"})),r,this.renderRows(t,!1))}}},{key:"renderPredefinedScreeners",value:function(){var e=this.props,t=e.predefinedList,a=e.predefinedListError;return!t.isEmpty()&&!a&&c["default"].createElement("div",{id:"predefined-screeners",className:"Mt(50px)",key:"predefined"},c["default"].createElement("h2",{className:"Fz(l) Fw(b) Mb(10px)"},c["default"].createElement(M.FormattedMessage,{id:"YAHOO_FINANCE_SCREENERS"})),this.renderRows(t,!0))}},{key:"renderEmptyState",value:function(e){var t,a=this.props,r=a.userList,i=a.userListError,s=(0,y.isSignedIn)(this.context),l=w["default"],n="MY_SAVED_SCREENERS";if(!0===e)t=c["default"].createElement("div",{id:"screener-api-error"},c["default"].createElement("div",{className:"Fz(m) Fw(500) C($c-fuji-grey-j) Mb(5px)"},c["default"].createElement(M.FormattedMessage,{id:"FAILED_TO_LOAD_SCREENERS_LINE_1"})),c["default"].createElement("div",{className:"C($c-fuji-grey-k) Mb(10px)"},c["default"].createElement(M.FormattedMessage,{id:"FAILED_TO_LOAD_SCREENERS_LINE_2"}))),l=L["default"],n="SCREENER_TITLE";else if(s){if(!r.isEmpty()||i)return;t=c["default"].createElement("p",{className:"D(b) Ta(c) Fz(m) Fw(500) C($c-fuji-grey-j) Mb(10px) Mx(a) W(90%)"},c["default"].createElement(M.FormattedMessage,{id:"HAVE_NO_SCREENERS",values:{more:c["default"].createElement(N.I13nAnchor,{href:this.props.componentConfig?this.props.componentConfig.newUsrHelpUrl:"https://help.yahoo.com/kb/SLN28083.html?soc_src=mail&soc_trk=ma",i13nModel:{itc:0,elm:"ct",elmt:"link",sec:this.rapidSec,slk:"scr-hlp-lrn"}},c["default"].createElement("span",{className:"Whs(nw)"},c["default"].createElement(M.FormattedMessage,{id:"LEARN_MORE"}),""))}}))}else{var o=this.isLightBrowser?null:c["default"].createElement("div",{className:"C($c-fuji-grey-k) Mb(10px)"},c["default"].createElement(M.FormattedMessage,{id:"CAPITAL_OR"})),d=(0,y.isTcookieExpired)(this.context)?"SIGN_IN_AGAIN":"SIGN_IN";t=c["default"].createElement("div",{id:"signed-out-msg"},c["default"].createElement("div",{className:"D(ib) Fz(m) Fw(500) C($c-fuji-grey-j) Mb(5px)"},c["default"].createElement(T["default"],{displayText:d,classNameWithoutContainer:"Fl(start) Mend(6px)",btnClassNames:"Fz(m) Fw(500)"}),c["default"].createElement(M.FormattedMessage,{id:"SCREENER_NOT_SIGNEDIN"})),o)}var u=c["default"].createElement(R["default"],{href:"/screener/new",className:E["default"].btn_primary+E["default"].btn_primary_large,i13nModel:(0,y.geti13nModel)("link",{sec:this.rapidSec})},c["default"].createElement(M.FormattedMessage,{id:"CREATE_NEW_SCREENER"}));return this.isLightBrowser&&(u=null),c["default"].createElement("div",{id:"screener-landing-empty",key:"empty"},c["default"].createElement("span",{className:"D(ib) Fz(17px) Fw(b) Mb(10px) Mt(-2px)"},c["default"].createElement(M.FormattedMessage,{id:n})),c["default"].createElement("div",{className:"Bdw(1px) Bdc($borderGray) Bds(s) Bdrs(3px) Ta(c) P(25px)"},c["default"].createElement(k.Icon,{className:"H(25px) W(25px) Fill($grayBorder)! Stk($grayBorder)! Stkw(0)! Mb(5px) Cur(a)!",asset:l,height:25,color:"#9ea2af"}),t,u))}},{key:"render",value:function(){var e,t=this.props,a=t.userList,r=t.predefinedListError,i=t.userListError;return e=t.predefinedList.isEmpty()&&a.isEmpty()&&!r&&!i?c["default"].createElement(_["default"],null):r&&i?[this.renderEmptyState(!0)]:[this.renderEmptyState(!1),this.renderUserScreeners(),this.renderPredefinedScreeners()],c["default"].createElement("section",{className:this.props.className,"data-yaft-module":"tdv2-applet-Screener"},c["default"].createElement("h1",{className:"seo-hidden"},c["default"].createElement(M.FormattedMessage,{id:"META_TITLE_SCREENERS"})),e)}}]),a}(c["default"].PureComponent);U.displayName="Screener",U.contextTypes={renderTarget:u["default"].object.isRequired,session:u["default"].object.isRequired,getStore:u["default"].func.isRequired,intl:u["default"].object.isRequired,executeAction:u["default"].func.isRequired},U.propTypes={className:u["default"].string,predefinedListError:u["default"].oneOfType([u["default"].string,u["default"].object]),predefinedList:u["default"].instanceOf(S["default"].List),userList:u["default"].instanceOf(S["default"].List),userListError:u["default"].oneOfType([u["default"].string,u["default"].object]),componentConfig:u["default"].object,isHighValueUser:u["default"].bool,enablePremium:u["default"].bool},U.defaultProps={className:"Bxz(bb) Px(20px) Maw($newGridWidth) Miw($minGridWidth) Miw(a)!--tab768 Miw(a)!--tab1024 Mx(a) Ta(start)"},U.componentConfig={name:"componentScreener"},U.initializeAction=m["default"];var H=(0,D["default"])(U,[f["default"]],(function(e,t){var a=e.getStore(f["default"]),r=a.getPredefinedListInfo(),i=r.predefinedList,s=r.predefinedListError,l=a.getUserListInfo(),n=l.userList,o=l.userListError,d=e.getStore(p["default"]).getPageConfig()||{};return{predefinedListError:s,predefinedList:i,userList:n,userListError:o,enablePremium:d.enablePremium,isHighValueUser:d.isHighValueUser}}));t["default"]=H},2689:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(1310)),s=r(a(2690)),l=r(a(2691)),n=a(214);function o(e,t,a){var r=(0,n.isSignedIn)(e);(0,i["default"])(e,{loadPredefinedList:{action:s["default"],params:{view:"landing"}},loadUserScreenerList:l["default"]},(function(t){if(t){if(t.meta=t.meta||{},e.logger.error(t),t.loadPredefinedList&&t.loadUserScreenerList)return t.meta.critical=!0,a&&a(t);if(t.loadPredefinedList&&(!r||r&&t.loadUserScreenerList))return t.meta.critical=!0,a&&a(t)}a&&a()}))}o.displayName="initScreener",t["default"]=o,e.exports=t["default"]},2690:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=a(1291),s=r(a(400));function l(e,t,a){return t||(t={}),e.dispatch("SET_SCREENER_LOADING"),(0,i.fetchService)(e,{resource:"tachyon.screenerPredefinedList",params:t}).then((function(t){if(!t)throw s["default"].http.badGateway("Empty response from server");if(t.error)throw s["default"].http.badGateway(t.error);e.dispatch("LOAD_PREDEFINED_LIST_SUCCESS",{results:t}),a(null,t)}))["catch"]((function(t){return e.dispatch("LOAD_PREDEFINED_LIST_FAIL",t),a&&a(t)}))}l.displayName="loadPredefinedList",t["default"]=l,e.exports=t["default"]},2691:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=a(214),s=a(1291),l=r(a(400));function n(e,t,a){return(0,i.isSignedIn)(e)?(t.userId=e.request.user.guid,t.userIdType="guid",e.dispatch("SET_SCREENER_LOADING"),(0,s.fetchService)(e,{resource:"tachyon.screenerList",params:t}).then((function(t){if(!t)throw l["default"].http.badGateway("Empty response from server");t=Array.isArray(t)?t:[t],e.dispatch("LOAD_USER_LIST_SUCCESS",{results:t}),a(null,t)}))["catch"]((function(t){return e.dispatch("LOAD_USER_LIST_FAIL",t),a&&a(t)}))):(e.dispatch("LOAD_USER_LIST_SUCCESS",{results:[]}),a())}n.displayName="loadUserScreenerList",t["default"]=n,e.exports=t["default"]},2692:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=a(214),s=a(1291),l=r(a(400));function n(e,t,a){if(!(0,i.isSignedIn)(e)){var r=l["default"].http.unauthorized("User is not logged in");return e.dispatch("DELETE_SCREENER_FAIL",r),void a()}return t||(t={}),t.userId=e.request.user.guid,t.userIdType="guid",(0,s.fetchService)(e,{resource:"tachyon.screenerDelete",params:t,method:"delete"}).then((function(t){if(!t)throw l["default"].http.badGateway("Empty response from server");if(t.error)throw l["default"].http.badGateway(t.error);e.dispatch("DELETE_SCREENER_SUCCESS",{results:t}),a(null,t)}))["catch"]((function(t){e.dispatch("DELETE_SCREENER_FAIL",t),a(t)}))}n.displayName="deleteScreener",t["default"]=n,e.exports=t["default"]},2720:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(397)),n=r(a(398)),o=r(a(213)),d=r(a(136)),c=r(a(5)),u=r(a(9)),f=r(a(1289)),p=r(a(2721)),m=r(a(1523)),h=r(a(2027)),b=r(a(1514)),v=r(a(17)),y=r(a(12)),g=a(214),E=a(408);function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var S=[{title:"RESULTS_LIST",url:"",type:"results"},{title:"HEATMAP_VIEW",url:"/heatmap",type:"heatmap",showNew:!0}],C={regularMarketPrice:"intradayprice",regularMarketChangePercent:"percentchange",regularMarketChange:"intradaypricechange",marketCap:"intradaymarketcap",symbol:"ticker",shortName:"companyshortname",regularMarketVolume:"eodvolume"};function N(e){var t="USD",a=e&&e.query&&e.query.operands;if(a)for(var r=0;r<a.length;r++)if("object"===(0,d["default"])(a[r])&&a[r].operands){var i=a[r].operands;i&&Array.isArray(i)&&"currency"===i[0]&&(t=i[1])}else"string"==typeof a[r]&&"currency"===a[r]&&(t=a[r+1]);return t||"USD"}var M=function(e){(0,l["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,o["default"])(t);if(x()){var r=(0,o["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,n["default"])(this,e)});function r(e,t){var s;return(0,i["default"])(this,r),(s=a.call(this,e,t)).rapidSec=(0,g.getRapidSec)("ScreenerResults"),s}return(0,s["default"])(r,[{key:"renderSelectedTab",value:function(){var e=this.props,t=e.results,a=e.criteriaMeta,r=e.rawCriteria,i=e.isLoading,s=e.isInvalid,l=e.hasError,n=e.screenerType,o=e.currentUrl,d=e.sortableFields,u=e.meta,f=e.isEditable,m=e.type,b=e.filters,v=e.currency,y=e.isHighValueUser,g=e.enablePremium;switch(e.viewType){case"heatmap":return c["default"].createElement(h["default"],{rows:t.rows,fieldMap:C,criteriaMeta:a,rawCriteria:r,isLoading:i,isInvalid:s,hasError:l,rapidSec:this.rapidSec,screenerType:n});case"results":default:var E=e.componentConfig||{};return c["default"].createElement(p["default"],{className:"Pos(r) Mih(265px)",currentUrl:o,screenerType:n,criteriaMeta:a,rawCriteria:r,meta:u,results:t,sortableFields:d,filters:b,isLoading:i,isInvalid:s,hasError:l,currency:v,isEditable:f,entityIdType:u.entityIdType,showPaginationOptions:E.showPaginationOptions,type:m,componentConfig:E,isHighValueUser:y,enablePremium:g})}}},{key:"render",value:function(){var e,t=this.props,a=t.entityIdType,r=t.baseUrl,i=t.queryString,s=t.viewType,l=t.className;if(t.componentConfig.enableViewTabs&&S.length>1){var n,o=[];S.forEach((function(e){var t=e.url,l=e.type;if("results"===l||(E.ENTITYID_CONFIG[a]&&E.ENTITYID_CONFIG[a].views||{})[l]){var d=t?r+t+i:r+i;s===l&&(n=d),o.push({title:e.title,url:d,showNew:!!e.showNew})}})),e=c["default"].createElement(m["default"],{className:"Bgc($panelBackground)",addNavLinkClasses:"C($c-fuji-grey-j) Px(20px)!",tabs:o,selected:n,rapidSec:"screener-results"})}return c["default"].createElement("section",{id:"screener-results",className:l,"aria-label":"Screener Results","data-test":"screener-results","data-yaft-module":"tdv2-applet-ScreenerResults"},e,this.renderSelectedTab())}}]),r}(c["default"].PureComponent);M.displayName="ScreenerResults",M.defaultProps={className:"Ta(start) Bxz(bb) Px(20px) Maw($newGridWidth) Mx(a)",isEditable:!0,type:"default",viewType:"results"},M.propTypes={className:u["default"].string,screenerType:u["default"].string,isEditable:u["default"].bool,currency:u["default"].string,filters:u["default"].object,currentUrl:u["default"].string,criteriaMeta:u["default"].object,rawCriteria:u["default"].object,selectedDay:u["default"].string,resultsData:u["default"].object,sortableFields:u["default"].array,calId:u["default"].string,results:u["default"].object,meta:u["default"].object,type:u["default"].string,viewType:u["default"].string,symbol:u["default"].string,isLoading:u["default"].bool,hasError:u["default"].bool,isInvalid:u["default"].bool,componentConfig:u["default"].object,entityIdType:u["default"].string,baseUrl:u["default"].string,queryString:u["default"].string,isHighValueUser:u["default"].bool,enablePremium:u["default"].bool},M.contextTypes={executeAction:u["default"].func.isRequired,getStore:u["default"].func.isRequired,session:u["default"].object.isRequired},M.componentConfig={name:"componentScreenerTable"};var R=(0,f["default"])(M,[b["default"]],(function(e,t){var a=e.getStore(v["default"]).getCurrentRoute(),r=e.getStore(b["default"]),i=r.isResultsInvalid(),s=e.getStore(y["default"]).getPageConfig()||{},l=s.enablePremium,n=s.isHighValueUser;if(i)return{isInvalid:i};var o=r.getResults(),d=o&&o.filters||{},c=r.getCriteriaMeta(),u=r.getMeta(),f=u&&u.entityIdType,p=r.getRawCriteria(),m=a.url.indexOf("?"),h=m>-1?a.url.substring(m):"";return{baseUrl:(0,E.getViewBaseUrl)(a,{removeQuery:!0}),currentUrl:a.url,queryString:h,screenerType:(0,E.getScreenerType)(a),currency:N(p),criteriaMeta:c,entityIdType:f,meta:u,results:o,filters:d,rawCriteria:p,sortableFields:r.getSortableFields(),isLoading:r.isLoading(),isInvalid:!1,viewType:(0,E.getViewType)(a),hasError:r.hasError(),enablePremium:l,isHighValueUser:n}}));t["default"]=R,e.exports=t["default"]},2721:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(136)),s=r(a(1307)),l=r(a(395)),n=r(a(396)),o=r(a(399)),d=r(a(397)),c=r(a(398)),u=r(a(213)),f=r(a(5)),p=r(a(9)),m=r(a(1916)),h=r(a(1354)),b=r(a(1676)),v=r(a(2722)),y=r(a(2732)),g=r(a(1680)),E=a(212),x=a(1286),S=r(a(1311)),C=r(a(1298)),N=a(1922),M=r(a(422)),R=r(a(17)),F=r(a(69)),T=r(a(1316)),_=a(214),P=r(a(40)),k=r(a(49)),I=r(a(1)),w=r(a(219)),L=a(408),B=r(a(228));function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O={symbol:"ticker",companyName:"companyshortname",regularMarketPrice:"intradayprice",regularMarketChange:"intradaypricechange",regularMarketChangePercent:"percentchange",regularMarketVolume:"dayvolume",volumeInCurrency:"dayvolume",marketCap:"intradaymarketcap",trailingPE:"peratio",regularMarketPreviousClose:"intradayprice",underlyingSymbol:"underlying_symbol",strike:"strike_price",expireDate:"expire_date",openInterest:"open_interest",transactionDate:"transactiondate","52weekRange":"fiftytwowkpercentchange"},j=["regularMarketPrice","regularMarketChange","regularMarketChangePercent","regularMarketVolume"],A={col:{className:"Ta(end) Pstart(20px)",0:{className:"Ta(start) Pstart(6px) Pend(10px) Miw(90px)"},1:{className:"Ta(start) Px(10px)"},7:{className:"Ta(end) Pstart(20px) Pend(10px) W(120px)"},9:{className:"Ta(end) Pstart(20px) Pend(6px)"}},ui:{alternateColor:!0,showFooter:!0,isSortable:!0,isSelectable:!0}},$={earnings:{col:{className:"Ta(end) Pstart(15px) W(10%)",0:{className:"Ta(start) Pstart(15px) Pend(15px) W(10%)"},1:{className:"Ta(start) Pstart(5px) Pend(10px)"},2:{className:"Ta(end) Pstart(15px) W(20%)"}},ui:{firstColumnSticky:!0,showFooter:!0,isSortable:!0,isSelectable:!0}},splits:{col:{className:"Ta(end) Pstart(15px) W(10%)",0:{className:"Ta(start) Pend(15px) Pstart(15px) W(10%)"},1:{className:"Ta(start) Pend(10px) W(20%)"}}},economic:{col:{className:"Ta(end) Pstart(15px) W(10%)",0:{className:"Ta(start) Pend(15px) Pstart(15px)"},1:{className:"Ta(end) Pstart(15px) W(13%)"}},ui:{firstColumnSticky:!1}},ipo:{},equity:A,option:{col:{className:"Ta(end) Pstart(10px)",0:{className:"Ta(start) Pstart(6px) Pend(10px) Miw(90px)"},1:{className:"Ta(start) Px(10px)"},2:{className:"Ta(start)"},10:{className:"Ta(end) Pstart(10px) Pend(6px)"}},ui:{alternateColor:!0,showFooter:!0,isSortable:!0,isSelectable:!0}},cryptocurrency:{col:{className:"Ta(end) Pstart(20px)",0:{className:"Ta(start) Pstart(6px) Pend(10px) Whs(nw) Miw(90px)"},1:{className:"Ta(start) Px(10px)"},6:{className:"Ta(end) Pstart(20px) Pend(10px) W(120px)"},7:{className:"Ta(end) Pstart(20px) Pend(10px) W(120px)"}},ui:{alternateColor:!0,showFooter:!0,isSortable:!0,isSelectable:!0}},mutualfund:A,etf:A,insider_transaction:{col:{className:"Ta(end) Pstart(20px)",0:{className:"Ta(start) Pstart(6px) Pend(10px)"},1:{className:"Ta(start) Pstart(20px) Pend(10px)"},4:{className:"Ta(start) Pstart(80px)"}},ui:{firstColumnSticky:!1,alternateColor:!0,showFooter:!0,isSortable:!0,isSelectable:!1}},index:A},V=function(e){(0,d["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,u["default"])(t);if(D()){var r=(0,u["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,c["default"])(this,e)});function r(e,t){var i;return(0,l["default"])(this,r),(i=a.call(this,e,t)).rapidSec=(0,_.getRapidSec)("CalTable"),i.onPaginate=i.onPaginate.bind((0,o["default"])(i)),i.onHeaderClick=i.onHeaderClick.bind((0,o["default"])(i)),i.onCheckboxSelect=i.onCheckboxSelect.bind((0,o["default"])(i)),i.onAllCheckboxSelect=i.onAllCheckboxSelect.bind((0,o["default"])(i)),i.setDatatableRef=i.setDatatableRef.bind((0,o["default"])(i)),i.onPortfolioSuccess=i.onPortfolioSuccess.bind((0,o["default"])(i)),i.__cacheTable=null,i.__symbolList=null,i.state={selectedSymbols:P["default"].List()},i}return(0,n["default"])(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.results,a=e.entityIdType;e.hasQuoteStreaming&&(this.__symbolList=this.__symbolList||t&&(0,L.getSymbols)(t),this.context.getStore(T["default"]).subscribe(this.__symbolList,j,{usePolling:"cryptocurrency"===a}))}},{key:"componentDidUpdate",value:function(e){this.props.hasError||this.props.isLoading||"calendar"===this.props.screenerType||"new"===this.props.screenerType||this.reloadNewsStream(e.results)}},{key:"componentWillUnmount",value:function(){delete this.__cacheTable,this.props.hasQuoteStreaming&&(this.__symbolList=this.__symbolList||this.props.results&&(0,L.getSymbols)(this.props.results),this.context.getStore(T["default"]).unsubscribe(this.__symbolList,j),this.__symbolList=null)}},{key:"onPaginate",value:function(e,t){var a=this.props,r=a.isHighValueUser,i=a.enablePremium,s=Object.assign({},this.props.rawCriteria,{offset:e.start,size:e.count}),l=Object.assign({},this.props.criteriaMeta,{offset:e.start,size:e.count});this.context.executeAction(m["default"],{event:"FETCH_MORE",rawCriteria:s,criteriaMeta:l,enablePremium:i,isHighValueUser:r}),this.updateRouteOnPaginate(e),this.context.executeAction(h["default"])}},{key:"onHeaderClick",value:function(e,t){var a=this.props,r=a.isHighValueUser,i=a.enablePremium,s=e.column;if(s){s=O[s]||s;var l,n=this.props,o=n.rawCriteria,d=n.criteriaMeta;"asc"===o.sortType||"ASC"===o.sortType?l="desc":"desc"!==o.sortType&&"DESC"!==o.sortType||(l="asc");var c=Object.assign({},o,{sortType:l,sortField:s}),u=Object.assign({},d,{sortType:l,sortField:s});this.context.executeAction(m["default"],{event:"TABLE_SORT_EVENT",rawCriteria:c,criteriaMeta:u,isHighValueUser:r,enablePremium:i})}}},{key:"onCheckboxSelect",value:function(e,t){var a=this.state.selectedSymbols;this.setState(e.checked?{selectedSymbols:a.push(e.value)}:{selectedSymbols:a["delete"](a.indexOf(e.value))})}},{key:"onAllCheckboxSelect",value:function(e,t){this.setState(e.checked?{selectedSymbols:P["default"].List(e.value)}:{selectedSymbols:P["default"].List()})}},{key:"onPortfolioSuccess",value:function(){this.setState({selectedSymbols:P["default"].List()}),this.datatable&&this.datatable.onClearCheckbox()}},{key:"reloadNewsStream",value:function(e){var t=this.__symbolList;t||(t=(0,L.getSymbols)(e)),this.__symbolList=this.props.results&&(0,L.getSymbols)(this.props.results),this.__symbolList&&!(0,w["default"])(t,this.__symbolList)&&(this.context.getStore(T["default"]).unsubscribe(t,j),this.context.getStore(T["default"]).subscribe(this.__symbolList,j),this.context.executeAction(b["default"],{componentProps:{id:"screenerDetail-0-Stream",componentConfig:this.context.getStore(F["default"]).getConfig("screenerDetail-0-Stream")}}))}},{key:"updateRouteOnPaginate",value:function(e){var t=this.context.getStore(R["default"]),a=this.context.getStore(M["default"]),r=t.dehydrate(),i=a.dehydrate(),s=Object.assign({},t.getCurrentRoute()),l=s.underlyingScrId||(0,I["default"])(s,["params","screenerId"]);s.query=s.query||{},s.query.offset=e.start,s.query.count=e.count,s.params.screenerId=decodeURIComponent(l);var n=k["default"].parse(s.url,!0,!1);n.query=s.query,delete n.search;var o=k["default"].format(n);(new B["default"]).pushState({offset:e.start,count:e.count},"",o),r.currentNavigate.url=o,r.currentUrl=o,t.rehydrate(r),i._currentRoute.url=o,i._currentRoute.query=i._currentRoute.query||{},i._currentRoute.query.offset=e.start,i._currentRoute.query.count=e.count,a.rehydrate(i)}},{key:"setDatatableRef",value:function(e){this.datatable=e}},{key:"getTableData",value:function(){var e=this.props,t=e.results,a=e.entityIdType,r=e.criteriaMeta,l=e.hasQuoteStreaming,n=e.showFooter,o=e.showPaginationOptions,d=e.isHighValueUser,c=e.enablePremium,u=t.rows,f=t.columns,p=r&&r.criteria,m=[],h=L.ENTITYID_CONFIG[a]&&L.ENTITYID_CONFIG[a].resultColumns,b="desc"===r.sortType.toLowerCase()?2:1,v=r.sortField,y=h?h.slice():f.slice(),g=$[a]||A;if(d&&c&&"equity"===a&&p){var E=(0,L.getAdditionalPremiumColumn)(p);y=y.concat(E),E.length>0&&(g=Object.assign({},g,{col:Object.assign({},g.col,(0,s["default"])({9:{className:"Ta(end) Pstart(20px)"}},y.length-1,{className:"Ta(end) Pstart(20px) Pend(6px)"}))}))}for(var x=0;x<y.length;x++){var S="object"===(0,i["default"])(y[x])?y[x].data:y[x];m[x]={raw:S}}return{rows:u,columns:m,config:g=Object.assign({},g,{ui:Object.assign({},g.ui,{quoteStreaming:l,showFooter:n,showPaginationOptions:o})}),sortType:b,sortColumn:v}}},{key:"renderTable",value:function(){var e,t,a=this.props,r=a.hasError,i=a.results,s=a.isLoading,l=a.sortableFields,n=a.isInvalid,o=a.isEditable,d=a.screenerType,c=a.filters,u=a.itemsPerPage,p=this.props.criteriaMeta||{},m=((this.props.meta||{}).entityIdType||this.props.entityIdType||p.entityIdType||"").toLowerCase(),h=i&&i.total;if(r)e=f["default"].createElement(N.ScreenerNoDataMessage,{key:"no-data"});else if(s)t=f["default"].createElement("div",{key:"overlay",className:"Pos(a) Start(0) T(0) End(0) B(0) Z(4) Bgc(white)","data-test":"table-overlay"},f["default"].createElement("div",{className:"Mstart(a) Mend(a) Ta(c)"},f["default"].createElement(C["default"],{type:"fuji"}))),e=this.__cacheTable;else if(n)t=f["default"].createElement(N.ScreenerCriteriaChangedMessage,{key:"overlay",entityIdType:m}),e=this.__cacheTable;else if(h){var b=this.getTableData(m),v={totalItems:h,startIndex:Number(p.offset),itemsPerPage:u||Number(p.size)};this.__cacheTable=e=f["default"].createElement(g["default"],{key:"data-table",ref:this.setDatatableRef,rows:b.rows,columns:b.columns,config:b.config,sortableColumns:l,rowId:"symbol",id:"scr-res-table",rapidSec:this.rapidSec,readOnly:!o,pageData:v,sortState:b.sortType,sortColumn:b.sortColumn,onPaginate:this.onPaginate,onHeaderClick:this.onHeaderClick,onCheckboxSelect:this.onCheckboxSelect,onAllCheckboxSelect:this.onAllCheckboxSelect})}else"new"===d?e=f["default"].createElement(N.ScreenerFieldEmptyMessage,{key:"new-screener",entityIdType:m}):"calendar"===d&&(e=c&&c.day?f["default"].createElement("div",{className:"Ta(c) Pt(20px) Pb(30px)",key:"no-data"},f["default"].createElement(x.Icon,{className:"H(30px) W(30px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(8px)",asset:S["default"]}),f["default"].createElement("div",{className:"Fw(b) Fz(m) Mb(5px) C($c-fuji-grey-j)"},f["default"].createElement(E.FormattedMessage,{id:"MSG_NO_RESULTS"}))):f["default"].createElement("div",{className:"Ta(c) Pt(20px) Pb(30px)",key:"no-date-selected"},f["default"].createElement(x.Icon,{className:"H(30px) W(30px) Va(m)! Fill($grayBorder)! Stk($grayBorder) Cur(a)! Mb(8px)",asset:S["default"]}),f["default"].createElement("div",{className:"Fw(b) Fz(m) Mb(5px) C($c-fuji-grey-j)"},f["default"].createElement(E.FormattedMessage,{id:"MSG_NO_CAL_DATE_SEL"}))));return[t,e]}},{key:"render",value:function(){var e,t,a=this.props,r=a.criteriaMeta,i=a.results,s=a.meta;return i&&r&&s&&(e=f["default"].createElement(y["default"],{key:"table-header",rapidSec:this.rapidSec,screenerType:a.screenerType,entityIdType:a.entityIdType,currentUrl:a.currentUrl,offset:Number(r.offset),endRow:i.rows.length,total:i.total,currency:a.currency,isEditable:a.isEditable,selectedSymbols:this.state.selectedSymbols,onPortfolioSuccess:this.onPortfolioSuccess,type:a.type,meta:s,componentConfig:a.componentConfig})),"mini"===a.type&&(t=f["default"].createElement(v["default"],{rapidSec:this.rapidSec,currentUrl:a.currentUrl,selectedSymbols:this.state.selectedSymbols,onPortfolioSuccess:this.onPortfolioSuccess})),f["default"].createElement("div",{id:"fin-scr-res-table",className:"Pos(r) "+this.props.className},t,e,this.renderTable())}}]),r}(f["default"].PureComponent);V.displayName="ScrDataTable",V.defaultProps={className:"Bxz(bb) Mt(15px) Px(20px) Maw($newGridWidth) Mx(a) Mih(265px)",isEditable:!0,hasQuoteStreaming:!0,showFooter:!0,showPaginationOptions:!0,type:"default"},V.propTypes={className:p["default"].string,hasQuoteStreaming:p["default"].bool,screenerType:p["default"].string,isEditable:p["default"].bool,filters:p["default"].object,currentUrl:p["default"].string,criteriaMeta:p["default"].object,rawCriteria:p["default"].object,results:p["default"].object,sortableFields:p["default"].array,meta:p["default"].object,isLoading:p["default"].bool,hasError:p["default"].bool,isInvalid:p["default"].bool,currency:p["default"].string,entityIdType:p["default"].string,showFooter:p["default"].bool,showPaginationOptions:p["default"].bool,type:p["default"].string,componentConfig:p["default"].object,isHighValueUser:p["default"].bool,enablePremium:p["default"].bool,itemsPerPage:p["default"].number},V.contextTypes={executeAction:p["default"].func.isRequired,getStore:p["default"].func.isRequired,session:p["default"].object.isRequired},t["default"]=V,e.exports=t["default"]},2722:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(5)),s=r(a(9)),l=a(212),n=r(a(1517)),o=r(a(40)),d=function(e){var t=e.onPortfolioSuccess,a=e.currentUrl,r=e.selectedSymbols,s=e.rapidSec,o=r.size;return 0===o?null:i["default"].createElement("div",{className:"Pos(f) B(-2px) Start(0) Z(11) Bgc(white) W(100%) Bxsh($OpGrayBoxShadow)"},i["default"].createElement("div",{className:"Py(15px) Mstart(20px) D(ib) Fw(500)"},i["default"].createElement("span",{className:"Py(2px) Px(6px) Bdrs(50%) Bgc($dataGreen) C($white) Mend(5px)"},o),i["default"].createElement("span",{className:"C($gray)"},i["default"].createElement(l.FormattedMessage,{id:"SELECTED"}))),i["default"].createElement(n["default"],{key:"watchlist",id:s,enabled:!0,showArrow:!1,symbols:r,containerClassName:"Fl(end)",className:"Bd(0) Fz(s) C($c-fuji-blue-1-b) C($actionBlueHover):h Fw(500) Py(15px) Pend(20px) Va(tb)",menuClassName:"Pos(f) P(25px) T(40%) Start(20px) Bd Bdc($finLightGray) Bxsh($boxShadow) Bdrs(3px) Bgc(white) W(290px)",unsignedMenuClassName:"Pos(f) Ta(c) P(20px) T(40%) Start(20px) Bd Bdc($c-fuji-grey-c) Bxsh($boxShadow) Bdrs(3px) Bgc(white) W(290px)",currentUrl:a,onSuccess:t}))};d.displayName="ScreenerGrowlToolbar",d.propTypes={rapidSec:s["default"].string.isRequired,onPortfolioSuccess:s["default"].func,currentUrl:s["default"].string.isRequired,selectedSymbols:s["default"].instanceOf(o["default"].List)},t["default"]=d,e.exports=t["default"]},2732:function(e,t,a){"use strict";var r=a(23);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=r(a(395)),s=r(a(396)),l=r(a(397)),n=r(a(398)),o=r(a(213)),d=r(a(5)),c=r(a(9)),u=a(212),f=(a(133),r(a(1517))),p=r(a(2397)),m=a(1286),h=(r(a(2733)),r(a(1311))),b=r(a(1288)),v=a(408),y=r(a(40));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var E=function(e){(0,l["default"])(r,e);var t,a=(t=r,function(){var e,a=(0,o["default"])(t);if(g()){var r=(0,o["default"])(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,n["default"])(this,e)});function r(){return(0,i["default"])(this,r),a.apply(this,arguments)}return(0,s["default"])(r,[{key:"renderToolbar",value:function(){var e,t,a=this.props,r=a.selectedSymbols,i=a.rapidSec,s=a.currentUrl,l=a.onPortfolioSuccess,n=a.meta;return a.isEditable&&"insider_transaction"!==a.entityIdType?("predefined"===a.screenerType&&(t=d["default"].createElement(p["default"],{key:"share",title:n.title,desc:n.description,shareUrl:s,className:"D(ib) Bd(0) Va(b) Mstart(20px) Mb(2px)",openButtonIconSize:16,openButtonColor:"#0081F3",showLabel:!0})),[d["default"].createElement(f["default"],{key:"watchlist",id:i,enabled:r.size>0,symbols:r,className:"Bd(0) Fz(s) C($c-fuji-blue-1-b) C($actionBlueHover):h Fw(500) Py(0) Va(tb)",menuClassName:"P(25px) T(28px) Start(5px) Bd Bdc($finLightGray) Bxsh($boxShadow) Bdrs(3px) Bgc(white) W(400px)",currentUrl:s,onSuccess:l}),t,e]):null}},{key:"render",value:function(){var e=this.props,t=e.offset,a=e.entityIdType,r=e.endRow,i=e.total,s=e.currency,l=e.type,n=e.meta,o=e.currentUrl,c=e.componentConfig,f=e.rapidSec;if("new"===e.screenerType)return null;var y,g,E,x,S,C="insider_transaction"!==a?"SCREENER_MATCH_RESULTS":"SCREENER_MATCH_RESULTS_INSIDER",N=v.ENTITYID_CONFIG[a],M=N&&d["default"].createElement(u.FormattedMessage,{id:N.title});return"mini"!==l?(g=d["default"].createElement("div",{className:"D(ib) Mstart(30px)","data-test":"table-toolbar"},this.renderToolbar()),y=d["default"].createElement(m.Icon,{className:"H(16px) W(16px) Va(m)! Fill($finOrange)! Stk($finOrange) Cur(a)! Mb(3px) Mend(5px)",asset:h["default"],height:16,color:"#ff7b12"})):E=d["default"].createElement(p["default"],{title:n.title,desc:n.description,shareUrl:o,className:"D(ib) Pos(r) Fl(end) Va(m) Fl(n)--mobxl Va(t)--mobxl Mstart(25px)--mobxl",wrapperClassName:"Fl(end) Cur(p) D(b)--tab768 screener-row:h_D(b) Px(0) Mend(5px)",openButtonIconSize:16,openButtonColor:"#0081F3"}),n&&"cryptocurrency"===n.entityIdType&&(S=c.cryptocurrency),S&&S.url&&S.imgUrl&&(x=d["default"].createElement("div",{className:"D(ib) H(45px) Fw(500) Fl(end) Mt(-10px)--mobxl"},d["default"].createElement(b["default"],{className:"D(b) Td(n) Lh(45px) Ta(start) Bd(0) selected-sub_Bdbc($c-fuji-blue-1-a) selected-sub_C(black) selected-sub_Bgc($navSelectedBlue)",href:S.url,i13nModel:{sec:f,slk:"crypt-comp",itc:0,elm:"icn",elmt:"logo"}},d["default"].createElement("img",{src:S.imgUrl,className:S.className,alt:S.title})))),d["default"].createElement("div",{key:"tableHeader",className:"W(100%)"},d["default"].createElement("div",{className:"D(ib) Fz(m) Fw(b) Lh(23px) W(75%)--mobp"},d["default"].createElement(u.FormattedMessage,{id:C,values:{text:M}}),d["default"].createElement("span",{className:"Mstart(15px) Fw(500) Fz(s) Mstart(0)--mobp Fl(start)--mobp"},d["default"].createElement(u.FormattedMessage,{id:"MATCH_RESULTS",values:{start:Number.parseInt(t)+1,end:Number.parseInt(t)+Number.parseInt(r),total:i}}))),E,g,x,d["default"].createElement("div",{className:"Mstart(0) Fw(n) Fz(12px) C($gray) Lh(26px) Lh(16px)--mobp Lh(16px)--mobl Mstart(0px)--sm"},y,d["default"].createElement(u.FormattedMessage,{id:"SCREENER_RESULT_NOTICE",values:{currency:s}})))}}]),r}(d["default"].PureComponent);E.displayName="ScrDataTableHeader",E.propTypes={screenerType:c["default"].string,selectedSymbols:c["default"].instanceOf(y["default"].List),offset:c["default"].number,endRow:c["default"].number,total:c["default"].number,rapidSec:c["default"].string.isRequired,isEditable:c["default"].bool,entityIdType:c["default"].string.isRequired,currency:c["default"].string,currentUrl:c["default"].string.isRequired,onPortfolioSuccess:c["default"].func,type:c["default"].string,meta:c["default"].object,componentConfig:c["default"].object},E.defaultProps={isEditable:!1,type:"default",meta:{}},t["default"]=E,e.exports=t["default"]},2733:function(e,t,a){if(void 0===r)var r={};r["export-data"]={name:"export-data",height:48,width:48,path:"M44 45H4c-1.1 0-2-.9-2-2V23c0-1.1.9-2 2-2h2c1.1 0 2 .9 2 2v8c0 1.1.9 2 2 2h28c1.1 0 2-.9 2-2v-8c0-1.1.9-2 2-2h2c1.1 0 2 .9 2 2v20c0 1.1-.9 2-2 2zM28.2 3.5c.8 0 1.5.7 1.5 1.5v8.6h4.5c.5 0 .9.3 1.2.7.2.4.2.9-.1 1.3L25.5 28c-.2.3-.6.5-1 .5s-.8-.2-1-.5l-9.7-12.4c-.3-.4-.3-.9-.1-1.3.2-.4.7-.7 1.2-.7h4.5V5c0-.8.7-1.5 1.5-1.5h7.3z"},e.exports&&(e.exports=r["export-data"])}}]);